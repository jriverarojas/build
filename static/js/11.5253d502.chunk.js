(this["webpackJsonppxp-ui"]=this["webpackJsonppxp-ui"]||[]).push([[11],{6699:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(809);t.default=function(){var e={showActions:!0,showDetail:!0,showSearch:!0,showFilter:!1,filters:[{value:"ALTO SECRETO",icon:"alarm_on",label:"SECRETO",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRU4KjHWiZ9CBeljoaUXdJrD1dXifFR24z237Si_JItPV_N_U_N&usqp=CAU"},{value:"rene",icon:"add",label:"RENE(S)",image:"https://cdn4.iconfinder.com/data/icons/pretty_office_3/256/Accept-Male-User.png"},{value:"inactivo",icon:"delete",label:"Inactivos"},{value:"activo",icon:"face",label:"Activos",image:"https://static.eldeber.com.bo//Files/Original/sites/eldeber/img/2019/04/18/meme.jpg"},{value:"inactivo",icon:"favorite",label:"Inactivos"},{value:"activo",icon:"home",label:"Activos"},{value:"inactivo",icon:"pets",label:"Inactivos"}],columns:{render:function(e){return r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Usuario: "),r.a.createElement("td",null,e.desc_person)),r.a.createElement("tr",null,r.a.createElement("th",null,"Activo: "),r.a.createElement("td",null,e.estado_reg))))},primary:{field:"desc_person",renderOption:function(e){return r.a.createElement("div",null,"SOY "+e.desc_person)}},secondary:{field:"descripcion"},terciary:{field:"fecha_reg",text:"Fecha",level:3},detail:[{field:"fecha_reg",text:"Fecha de Registro"},{field:"fecha_caducidad",text:"Fecha de Caducidad"},{field:"cuenta",text:"Cuenta"}]},getDataTable:{url:"seguridad/Usuario/listarUsuario",params:{limit:20,sort:"nombre",dir:"ASC",contenedor:"docs-USUARI",bottom_filter_fields:"nombre_completo1,cuenta,descripcion"}}};return r.a.createElement("div",null,r.a.createElement("h2",null,"Demo List Component"),r.a.createElement(l.a,{config:e}))}},809:function(e,t,a){"use strict";var n=a(35),r=a.n(n),l=a(65),i=a(5),o=a(8),c=a(0),d=a.n(c),s=a(16),m=a(188),u=a(70),p=a(464),f=a(650),h=a(700),b=a(714),g=a(702),E=a(238),v=a(654),x=a(58),y=a(869),O=a(653),w=a(652),k=a(693),S=a(298),j=a(868),C=a.n(j),F=a(953),_=function(e){var t=e.length,a=void 0===t?4:t,n=Array.from({length:a},(function(e,t){return t}));return d.a.createElement(d.a.Fragment,null,n.map((function(e,t){return d.a.createElement("div",{key:t},d.a.createElement(f.a,null,d.a.createElement(h.a,null,d.a.createElement(F.a,{variant:"circle",width:32,height:32})),d.a.createElement(g.a,{primary:d.a.createElement(d.a.Fragment,null,d.a.createElement(k.a,{display:"flex",flexWrap:"wrap"},d.a.createElement(k.a,{flexGrow:1},d.a.createElement(F.a,{variant:"text",width:"80%",animation:"wave"})),d.a.createElement(k.a,null,d.a.createElement(F.a,{variant:"rect",width:100,height:10,animation:"wave"})))),secondary:d.a.createElement(F.a,{variant:"text",width:"30%",animation:"wave"})}),d.a.createElement(b.a,null,d.a.createElement(F.a,{variant:"circle",width:32,height:32,animation:"wave"}))),d.a.createElement(O.a,null))})))},N=a(53),R=a(715),T=a(677),A=a(791),M=a.n(A),D=a(303),I=a(297),U=Object(u.a)((function(e){return{fab:{position:"fixed",top:e.spacing(12),right:e.spacing(2),float:"right",zIndex:20},inputSearch:{position:"fixed",top:e.spacing(12.7),right:e.spacing(4),float:"right",zIndex:10,border:"1px solid "+e.palette.secondary.main,background:"".concat(e.palette.background.paper),borderRadius:"20px",padding:"10px",paddingRight:"45px",paddingTop:"5px",paddingBottom:"5px",width:"300px"},slide:{}}})),B=function(e){var t=e.handleSearch,a=Object(N.a)(),n=U(),r={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},l=d.a.useState(!1),i=Object(o.a)(l,2),c=i[0],s=i[1];return d.a.createElement(d.a.Fragment,null,d.a.createElement(R.a,{key:"inherit",in:!0,timeout:r,style:{transitionDelay:"".concat(r.exit,"ms")},unmountOnExit:!0},d.a.createElement(T.a,{"aria-label":"Search",color:"secondary",variant:"round",className:n.fab,onClick:function(){return s((function(e){return!e}))}},d.a.createElement(M.a,null))),d.a.createElement(I.a,{in:c,timeout:300,direction:"left",mountOnEnter:!0,unmountOnExit:!0},d.a.createElement(D.a,{type:"text",className:n.inputSearch,onChange:function(e){return t(e.target.value)}})))},L=a(713),W=a(721),z=a(649),G=a(626),J=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[8]},tabOption:{minWidth:"100px"},circle:{textAlign:"center",borderRadius:"50%",width:"60px",height:"60px",border:"2px solid "+e.palette.action.disabledBackground,position:"relative"},icon:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)",fontSize:"3rem"},image:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"57px",height:"57px",borderRadius:"50%"},container:{display:"flex"},active:{minWidth:"100px","& > span > div ":{border:"2px solid "+e.palette.secondary.main}}}})),q=function(e){var t=e.filters,a=e.handleFilter,n=J(),r=d.a.useState(0),l=Object(o.a)(r,2),i=l[0],c=l[1],s=[{value:"",icon:"format_list_bulleted",label:"Todo"}].concat(Object(m.a)(t));return d.a.createElement(G.a,{position:"static",color:"default",className:n.root},d.a.createElement(W.a,{variant:"scrollable",scrollButtons:"on",value:i,onChange:function(e,t){c(t),a(s[t])},textColor:"secondary"},s.map((function(e,t){return d.a.createElement(L.a,{key:t,value:t,className:i===t?n.active:n.tabOption,label:d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:n.circle},e.image&&d.a.createElement("img",{src:e.image,className:n.image,alt:"filter option"}),e.icon&&!e.image&&d.a.createElement(z.a,{className:n.icon},e.icon)),d.a.createElement("span",null,e.label))})}))))},P=a(240),V=a(75),X=a.n(V),H={showActions:!0,showDetail:!0,showSearch:!1,showFilter:!0,filters:[],columns:{primary:{field:"num_tramite",renderOption:function(e){return d.a.createElement("div",null,"Render")}},secondary:{field:"desc_funcionario",renderOption:function(e){return d.a.createElement("div",null,"Render")}},terciary:{field:"importe_total",text:"Total",level:3,renderOption:function(e){return d.a.createElement("div",null,"Render")}},detail:[{field:"rowField",text:"rowFieldText"}]}},K=Object(u.a)((function(e){return{root:{position:"relative",width:"100%"},title:{margin:e.spacing(4,0,2)},drawer:{backgroundColor:e.palette.grey[800],color:e.palette.common.white},list:{marginTop:"8px",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[8],paddingTop:0,paddingBottom:0},inline:{display:"inline"},detail:{margin:0,backgroundColor:e.palette.background.dark},detailTitle:{backgroundColor:e.palette.background.dark,color:e.palette.text.textPrimary,padding:"5px",textAlign:"right",border:"1px solid "+e.palette.action.disabledBackground},detailText:{backgroundColor:e.palette.background.paper,padding:"5px",border:"1px solid "+e.palette.action.disabledBackground}}})),Y=[{icon:d.a.createElement(y.Edit,null),name:"Editar",action:function(){return alert("ok")}},{icon:d.a.createElement(y.Delete,null),name:"Eliminar",action:function(){return alert("ok")}}],Z=function(e){var t,a=e.data,n=void 0===a?[]:a,r=e.actions,l=void 0===r?[]:r,c=e.config,u=void 0===c?{}:c,j=e.FilterComponent,F=void 0===j?q:j,N=e.heightFilter,R=void 0===N?96:N,T=Object(i.a)(Object(i.a)({},H),u),A=[].concat(Y,Object(m.a)(l)),M=T.columns||{},D=K(),I=d.a.useState({top:!1,left:!1,bottom:!1,right:!1}),U=Object(o.a)(I,2),L=U[0],W=U[1],z=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&W(Object(i.a)(Object(i.a)({},L),{},Object(s.a)({},e,t)))}},G=X.a.debounce((function(e){u.onSearch(e)}),500),J=X.a.debounce((function(e){u.onSearch(e)}),500);return d.a.createElement("div",{className:D.root},T.showSearch&&d.a.createElement(B,{handleSearch:G}),T.showFilter&&d.a.createElement(F,{filters:T.filters,handleFilter:J}),d.a.createElement(P.Scrollbars,{autoHide:!0,renderView:function(e){return d.a.createElement("div",Object.assign({},e,{style:Object(i.a)(Object(i.a)({},e.style),{},{overflowX:"hidden",marginBottom:0})}))},style:{height:"calc(100% - ".concat(T.showFilter?R:0,"px)")}},d.a.createElement(p.a,{dense:!0,className:D.list},d.a.createElement(O.a,null),n&&0===n.length&&T.infiniteScroll.hasMore&&d.a.createElement(_,{length:5}),n&&0===n.length&&!T.infiniteScroll.hasMore&&d.a.createElement("h3",null,"No items to show..."),d.a.createElement(C.a,{useWindow:!1,pageStart:0,initialLoad:!1,getScrollParent:function(){return u.infiniteScroll.parent},loadMore:u.infiniteScroll.onLoadMore,hasMore:u.infiniteScroll.hasMore,loader:d.a.createElement(_,{length:1,key:0})},n&&n.length>0&&n.map((function(e,t){return d.a.createElement("div",{key:t},T.columns.render&&T.columns.render(e),!T.columns.render&&d.a.createElement(f.a,{button:!0,onClick:function(){return function(e,t){T.showDetail&&W(Object(i.a)(Object(i.a)({},L),{},Object(s.a)({},e,!L[e]))),T.handleOnClick&&T.handleOnClick(t)}(t,e)}},T.showDetail&&d.a.createElement(h.a,null,L[t]?d.a.createElement(y.ExpandLess,null):d.a.createElement(y.ExpandMore,null)),d.a.createElement(g.a,{primary:d.a.createElement(d.a.Fragment,null,d.a.createElement(k.a,{display:"flex",flexWrap:"wrap"},d.a.createElement(k.a,{flexGrow:1},M.primary.renderOption&&M.primary.renderOption(e),!M.primary.renderOption&&d.a.createElement(x.a,{component:"span",variant:"subtitle1",className:D.inline,color:"inherit"},e[M.primary.field])),d.a.createElement(k.a,null,M.terciary.renderOption&&M.terciary.renderOption(e),!M.terciary.renderOption&&d.a.createElement(x.a,{component:"span",variant:"overline",color:"secondary"},d.a.createElement("b",null,M.terciary.text,":\xa0"),e[M.terciary.field])))),secondary:d.a.createElement(d.a.Fragment,null,M.secondary.renderOption&&M.secondary.renderOption(e),!M.secondary.renderOption&&d.a.createElement(x.a,{component:"span",variant:"caption",className:D.inline,color:"primary"},e[M.secondary.field]))}),T.showActions&&d.a.createElement(b.a,null,d.a.createElement(E.a,{edge:"end","aria-label":"options",color:"primary",onClick:z("bottom",!0)},d.a.createElement(y.MoreVert,null)))),d.a.createElement(S.a,{in:L[t],timeout:"auto",unmountOnExit:!0},d.a.createElement(v.a,{container:!0,spacing:0,className:D.detail},!M.detailRender&&M.detail&&M.detail.map((function(t,a){return d.a.createElement(d.a.Fragment,{key:a},d.a.createElement(v.a,{item:!0,xs:4,sm:3,md:2,xl:1,className:D.detailTitle},d.a.createElement("b",null,t.text)),d.a.createElement(v.a,{item:!0,xs:8,sm:9,md:4,xl:3,className:D.detailText},e[t.field]))})),M.detailRender&&M.detailRender(e))),d.a.createElement(O.a,null))}))))),d.a.createElement(w.a,{anchor:"bottom",open:L.bottom,onClose:z("bottom",!1)},(t="bottom",d.a.createElement("div",{className:D.fullList,role:"presentation",onClick:z(t,!1),onKeyDown:z(t,!1)},d.a.createElement(p.a,{className:D.drawer,dense:!0},A&&A.map((function(e,t){return d.a.createElement(f.a,{button:!0,key:e.name,onClick:e.action},d.a.createElement(h.a,{color:"danger"},e.icon),d.a.createElement(g.a,{primary:e.name}))})))))))},Q=a(7);t.a=function(e){var t=e.config,a=e.FilterComponent,n=e.heightFilter,s=Object(c.useState)({data:[],hasMore:!0,limit:12,total:9999}),m=Object(o.a)(s,2),u=m[0],p=m[1],f=t.showFilter?-1:0,h=Object(c.useState)(f),b=Object(o.a)(h,2),g=b[0],E=b[1],v=Object(c.useState)(""),x=Object(o.a)(v,2),y=x[0],O=x[1],w={hasMore:u.hasMore,parent:document.getElementById("content"),onLoadMore:function(e){E(e*u.limit)}};t.infiniteScroll=w,t.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={};console.log("FILTER: ",e),e&&!0===e.search?(t.bottom_filter_fields=[e.field].join(),t.bottom_filter_value=e.value):e&&(t[e.field]=e.value),p((function(e){return Object(i.a)(Object(i.a)({},e),{},{total:9999,hasMore:!0,data:[],filter:t})})),-1===g?E(0):O(e.value)};var k=t.getDataTable.params||{},S=function(){var e=Object(l.a)(r.a.mark((function e(){var a,n,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.total>u.data.length)){e.next=7;break}return e.next=3,Q.a.apiClient.doRequest({url:t.getDataTable.url,params:Object(i.a)({start:g,limit:k.limit||50,sort:k.sort||"",dir:k.dir||"ASC",contenedor:k.contenedor||""},u.filter)});case 3:(a=e.sent)&&a.datos&&(a.datos.forEach((function(e){return u.data.push(e)})),n=u.data.length,l=!!(n<parseInt(a.total)&&"0"!==a.total),p((function(e){return Object(i.a)(Object(i.a)({},e),{},{total:parseInt(a.total),hasMore:l,data:0===u.start?a.datos:e.data})}))),e.next=8;break;case 7:p((function(e){return Object(i.a)(Object(i.a)({},e),{},{hasMore:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){u.hasMore&&S()}),[g,y]),d.a.createElement(Z,{data:u.data,config:t,FilterComponent:a,heightFilter:n})}}}]);
//# sourceMappingURL=11.5253d502.chunk.js.map