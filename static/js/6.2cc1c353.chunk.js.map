{"version":3,"sources":["native_citas/containers/assets/js/dateDetail.js","_parameters/components/Chat/Toolbar.js","native_citas/pages/Detail/Date.js","_pxp/utils/Common.js","_assets/jss/pxp-ui.js","_pxp/components/Grid/GridContainer.js","_pxp/components/Grid/GridItem.js","native_citas/resourses/door.mp3","native_citas/resourses/notify_2.mp3","native_citas/resourses/notify.mp3","_parameters/components/Chat/Message.js","_pxp/icons/PaperPlane.js","_parameters/components/Chat/MessageAdd.js","_parameters/components/Chat/ThreadDetails.js","_parameters/components/Chat/ChatView.js","native_citas/pages/HomeDama/timer-parse.js","native_citas/pages/HomeDama/Timer.js","native_citas/pages/HomeDama/states-options.js"],"names":["dateDetail","mrAuto","mlAuto","title","description","marginBottom","cardTitle","cardDescription","color","grayColor","team","padding","overflow","textCenter","textAlign","img","width","height","textMuted","justifyContent","card","border","borderRadius","hexToRgb","roseColor","position","display","flexDirection","minWidth","wordWrap","fontSize","background","boxShadow","marginTop","marginLeft","cardAvatar","cardAvatarProfile","margin","blackColor","cardAvatarPlain","pullRight","right","top","pullRight2","useStyles","makeStyles","theme","root","backgroundColor","palette","default","flexShrink","alignItems","paddingLeft","spacing","paddingRight","menuButton","marginRight","onlineIndicator","searchInput","flexGrow","Toolbar","className","rest","contact","classes","history","useHistory","moreRef","useRef","useState","openMenu","setOpenMenu","clsx","IconButton","onClick","goBack","SvgIcon","Box","Avatar","src","avatar","ml","Typography","variant","name","desc","state","Tooltip","ref","Menu","anchorEl","current","keepMounted","elevation","onClose","open","MenuItem","ListItemIcon","ListItemText","primary","Date","id","useParams","cardAvatarClasses","classNames","rating","setRating","showRaiting","setShowRaiting","descCalificacion","setDescCalificacion","table","idTableDesc","idTable","undefined","typeChat","idChat","idComponent","uuIdV4","chatView","setChatView","getDataTable","url","params","id_cita","start","limit","data","useJsonStore","heightScreen","setHeightScreen","size","useWindowSize","useEffect","datos","length","chat","prev","id_chat","estado_cita","calificacion","nombre","GridContainer","GridItem","md","sm","xs","cliente_dama","getUrlForView","nameFile","nombre_archivo","folder","extension","url_foto_cliente","fecha","hora","style","ChatView","alt","descripcion","component","mb","borderColor","Rating","readOnly","value","onChange","event","newValue","Pxp","apiClient","doRequest","then","resp","console","log","process","urlFile","split","capitalizeFirst","cad","separator","capilatizeWord","string","charAt","toUpperCase","slice","toLowerCase","reduce","acc","curr","input","replace","test","Error","first","second","last","parseInt","primaryColor","secondaryColor","warningColor","dangerColor","successColor","infoColor","whiteColor","twitterColor","facebookColor","googleColor","linkedinColor","pinterestColor","youtubeColor","tumblrColor","behanceColor","dribbbleColor","redditColor","instagramColor","container","maxWidth","primaryBoxShadow","infoBoxShadow","successBoxShadow","warningBoxShadow","dangerBoxShadow","roseBoxShadow","paddingTop","borderTop","fontFamily","fontWeight","lineHeight","textDecoration","minHeight","main","zIndex","mainRaised","grid","props","children","defaultProps","item","module","exports","image","cursor","Message","user","userNameFrom","idFrom","message","date","bgcolor","py","px","mt","whiteSpace","wordBreak","noWrap","moment","fromNow","PaperPlane","viewBox","d","divider","fileInput","MessageAdd","disabled","handleSend","thread","onAdd","eventWs","setMessage","handleResetInput","Paper","p","Input","disableUnderline","fullWidth","persist","target","onKeyUp","keyCode","placeholder","Divider","dark","ThreadDetails","messagesRef","setUser","sort","dir","setData","scrollToBottom","_authenticated","id_usuario","webSocketListener","handle","e","prevData","concat","id_mensaje","id_usuario_from","from","idUser","user_name_from","mensaje","listenerMessage","removeWebSocketListener","Scrollbars","options","suppressScrollX","map","i","key","fecha_reg","callback","nombre_usuario","afterSaveMsg","createMsg","sendMessageWs","msg","setTimeout","parseDateDiff","years","months","days","hours","minutes","seconds","hideSeconds","STRINGS","nodiff","year","month","day","hour","minute","delimiter","pluralize","num","word","buildStringFromValues","yDiff","mDiff","dDiff","hourDiff","minDiff","secDiff","result","push","join","timer","small","large","convertTime","time","untime","Math","trunc","checkTime","Timer","type","alarmInterval","operator","React","timerInterval","setTimer","isActive","setIsActive","useSound","alarm2","volume","playOn","notify","notifyOn","interval","setInterval","clearInterval","hourDigital","locale","messageContent","label","Actions","dispatch","useDispatch","ButtonGroup","option","Button","nextState","updateCitaStateAction","latitud_ubicacion","longitud_ubicacion","startIcon","Icon","icon","statesDama","statesCita","commonButtons","goToCita","confirmCita","cancelCita","startCita","panic","endCita","error","endPanic","completeCita","stateOptions","dataDama","disponible","credito","credito_minimo","stateDama","creditValid","parseFloat","stateCita","alias","nombre_dama","setVariables","currentState","fecha_cita","hora_cita","cliente_cita","fecha_hora_estado_cita","cliente","diff","preciseDiff","diffState","states","solicitadaCredit","actions","format","solicitadaNoCredit","programada","confirmada","iniciada","panico","finalizada","sinCitaCreditDama","sinCitaCreditNoDama","sinCitaNoCreditNoDama","viewState","StateDama","dangerouslySetInnerHTML","__html","StateDamaChat"],"mappings":"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","file":"static/js/6.2cc1c353.chunk.js","sourcesContent":["import {\n  mrAuto,\n  mlAuto,\n  title,\n  description,\n  cardTitle,\n  grayColor,\n  hexToRgb,\n  blackColor,\n  roseColor,\n  whiteColor,\n} from '../../../../_assets/jss/pxp-ui';\n\nconst dateDetail = {\n  mrAuto,\n  mlAuto,\n  title,\n  description: {\n    ...description,\n    marginBottom: '80px',\n  },\n  cardTitle,\n  cardDescription: {\n    color: grayColor[0],\n  },\n  team: {\n    padding: '10px 0px',\n    overflow: 'hidden',\n  },\n  textCenter: {\n    textAlign: 'center!important',\n  },\n  img: {\n    width: '100%',\n    height: '100px',\n  },\n  textMuted: {\n    color: `${grayColor[1]} !important`,\n  },\n  justifyContent: {\n    justifyContent: 'center!important',\n  },\n\n  card: {\n    border: '0',\n    marginBottom: '10px',\n    borderRadius: '6px',\n    color: `rgba(${hexToRgb(roseColor[0])}, 0.87)`,\n    width: '100%',\n    position: 'relative',\n    display: 'flex',\n    flexDirection: 'column',\n    minWidth: '0',\n    wordWrap: 'break-word',\n    fontSize: '.875rem',\n    // some jss/css to make the cards look a bit better on Internet Explorer\n    '@media all and (-ms-high-contrast: none), (-ms-high-contrast: active)': {\n      display: 'inline-block !important',\n    },\n    background: 'transparent',\n    boxShadow: 'none',\n    marginTop: '5px',\n    marginLeft: '10px',\n    textAlign: 'center',\n  },\n  cardAvatar: {\n    '&$cardAvatarProfile img,&$cardAvatarTestimonial img': {\n      width: '100%',\n      height: 'auto',\n    },\n  },\n  cardAvatarProfile: {\n    width: '80px',\n    height: '80px',\n    margin: '-50px auto 0',\n    borderRadius: '50%',\n    overflow: 'hidden',\n    padding: '0',\n    boxShadow: `0 16px 38px -12px rgba(${hexToRgb(\n      blackColor,\n    )}, 0.56), 0 4px 25px 0px rgba(${hexToRgb(\n      blackColor,\n    )}, 0.12), 0 8px 10px -5px rgba(${hexToRgb(blackColor)}, 0.2)`,\n    '&$cardAvatarPlain': {\n      marginTop: '10px',\n    },\n  },\n  cardAvatarPlain: {},\n  pullRight: {\n    position: 'absolute',\n    right: 0,\n    top: '15px',\n  },\n  pullRight2: {\n    position: 'absolute',\n    right: 0,\n    top: '65px',\n  },\n\n};\n\nexport default dateDetail;\n","/**\n * Component for toolbar chat\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n *\n */\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { useHistory } from 'react-router-dom';\n\nimport {\n  Avatar,\n  Box,\n  IconButton,\n  ListItemIcon,\n  ListItemText,\n  Menu,\n  MenuItem,\n  Tooltip,\n  Typography,\n  makeStyles,\n  SvgIcon,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: 64,\n    flexShrink: 0,\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  onlineIndicator: {\n    marginRight: theme.spacing(1),\n  },\n  searchInput: {\n    marginLeft: theme.spacing(2),\n    flexGrow: 1,\n  },\n}));\n\nconst Toolbar = ({ className, rest, contact }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const moreRef = useRef(null);\n  const [openMenu, setOpenMenu] = useState(false);\n\n  const handleMenuOpen = () => {\n    setOpenMenu(true);\n  };\n\n  const handleMenuClose = () => {\n    setOpenMenu(false);\n  };\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <IconButton\n        className={classes.menuButton}\n        onClick={() => history.goBack()}\n      >\n        <SvgIcon fontSize=\"small\">\n          <ArrowBackIosIcon />\n        </SvgIcon>\n      </IconButton>\n      {contact && (\n        <Box display=\"flex\" alignItems=\"center\">\n          <Avatar src={contact.avatar} />\n          <Box ml={1}>\n            <Typography variant=\"h6\" color=\"textPrimary\">\n              {contact.name}\n            </Typography>\n            <Box display=\"flex\" alignItems=\"center\">\n              {contact.desc}\n            </Box>\n            <Box display=\"flex\" alignItems=\"center\">\n              {contact.state}\n            </Box>\n          </Box>\n        </Box>\n      )}\n      <Box flexGrow={1} />\n      <Tooltip title=\"More options\">\n        <IconButton onClick={handleMenuOpen} ref={moreRef}>\n          <SvgIcon fontSize=\"small\">\n            <MoreVertIcon />\n          </SvgIcon>\n        </IconButton>\n      </Tooltip>\n      <Menu\n        anchorEl={moreRef.current}\n        keepMounted\n        elevation={1}\n        onClose={handleMenuClose}\n        open={openMenu}\n      >\n        <MenuItem>\n          <ListItemIcon>\n            <SvgIcon fontSize=\"small\">\n              <MoreVertIcon />\n            </SvgIcon>\n          </ListItemIcon>\n          <ListItemText primary=\"Button\" />\n        </MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { v4 as uuIdV4 } from 'uuid';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Rating from '@material-ui/lab/Rating';\nimport dateDetail from '../../containers/assets/js/dateDetail';\nimport GridContainer from '../../../_pxp/components/Grid/GridContainer';\nimport GridItem from '../../../_pxp/components/Grid/GridItem';\nimport ChatView from '../../../_parameters/components/Chat/ChatView';\n\nimport useJsonStore from '../../../_pxp/hooks/useJsonStore';\nimport useWindowSize from '../../../_pxp/hooks/useWindowSize';\nimport { getUrlForView } from '../../../_pxp/utils/Common';\nimport Pxp from '../../../Pxp';\nimport Toolbar from '../../../_parameters/components/Chat/Toolbar';\nimport { StateDamaChat } from '../HomeDama/states-options';\n\nconst useStyles = makeStyles(dateDetail);\n\nconst Date = () => {\n  const classes = useStyles();\n  const { id } = useParams();\n  const cardAvatarClasses = classNames({\n    [classes.cardAvatar]: true,\n    [classes.cardAvatarProfile]: true,\n    [classes.cardAvatarPlain]: true,\n  });\n  const [rating, setRating] = useState(0);\n  const [showRaiting, setShowRaiting] = useState(false);\n  const [descCalificacion, setDescCalificacion] = useState(false);\n  // begin code for open chat view, we need copy that for another tables\n  const [chatView, setChatView] = useState({\n    open: false,\n    table: 'cita.vcita_usuarios', // change that for another table\n    idTableDesc: 'id_cita', // change that for another id\n    idTable: undefined,\n    typeChat: 'CHAT_DATA_EXAMPLE', // Code of tipo_chat\n    idChat: undefined,\n    idComponent: uuIdV4(),\n  });\n\n  // we need to get data\n  const getDataTable = {\n    url: 'citas/Cita/listarCita',\n    params: {\n      id_cita: id,\n      start: 0,\n      limit: '1',\n    },\n  };\n  const { data } = useJsonStore(getDataTable);\n\n  const [heightScreen, setHeightScreen] = useState();\n  const size = useWindowSize();\n  useEffect(() => {\n    if (data && data.datos.length > 0 && data.datos[0].chat === 'Y') {\n      setChatView((prev) => ({\n        ...prev,\n        idTable: id,\n        idChat: data.datos[0].id_chat,\n        open: true,\n      }));\n    }\n    if (\n      data &&\n      data.datos.length > 0 &&\n      (data.datos[0].estado_cita === 'finalizada' ||\n        data.datos[0].estado_cita === 'completada')\n    ) {\n      setShowRaiting(true);\n      setRating(data.datos[0].calificacion);\n      if (data.datos[0].calificacion) {\n        setDescCalificacion(`Tu Calificación a ${data.datos[0].nombre}`);\n      } else {\n        setDescCalificacion(`Califica el servicio de ${data.datos[0].nombre}`);\n      }\n    }\n  }, [data]);\n  // end data dating\n\n  // mount component Date\n  useEffect(() => {}, []);\n\n  useEffect(() => {\n    setHeightScreen(size.height);\n  }, [size]);\n\n  const calificarCita = (value) => {\n    Pxp.apiClient\n      .doRequest({\n        url: 'citas/Cita/calificarCita',\n        params: {\n          id_cita: id,\n          calificacion: value,\n        },\n      })\n      .then((resp) => {\n        console.log(resp);\n        setRating(value);\n        setDescCalificacion(`Gracias por la calificación !!`);\n      });\n  };\n  return (\n    <div className={classes.team}>\n      {data &&\n        data.datos.length > 0 &&\n        (data.datos[0].chat === 'Y' ? (\n          <GridContainer>\n            <GridItem md={12} sm={12} xs={12}>\n              <Toolbar\n                contact={{\n                  name: data.datos[0].nombre,\n                  avatar:\n                    data.datos[0].cliente_dama === 'cliente'\n                      ? getUrlForView({\n                          nameFile: data.datos[0].nombre_archivo,\n                          folder: data.datos[0].folder,\n                          extension: data.datos[0].extension,\n                        })\n                      : data.datos[0].url_foto_cliente,\n                  desc: `Cita: ${data.datos[0].fecha} ${data.datos[0].hora}`,\n                  state: `Estado: ${data.datos[0].estado_cita}`,\n                }}\n              />\n            </GridItem>\n            <GridItem md={12} sm={12} xs={12}>\n              {data.datos[0].cliente_dama === 'dama' && (\n                <StateDamaChat data={data.datos[0]} />\n              )}\n            </GridItem>\n            <GridItem\n              md={12}\n              sm={12}\n              style={{ height: `calc(${heightScreen}px - 180px)` }}\n            >\n              {chatView.idChat && (\n                <ChatView\n                  table={chatView.table}\n                  idTable={chatView.idTable}\n                  idTableDesc={chatView.idTableDesc}\n                  typeChat={chatView.typeChat}\n                  idComponent={chatView.idComponent}\n                  idChat={chatView.idChat}\n                />\n              )}\n            </GridItem>\n          </GridContainer>\n        ) : (\n          <GridContainer>\n            <GridItem md={12} sm={12} xs={12} style={{ marginTop: '20vh' }}>\n              <div className={classes.card}>\n                <div className={cardAvatarClasses}>\n                  <img\n                    src={\n                      data.datos[0].cliente_dama === 'cliente'\n                        ? getUrlForView({\n                            nameFile: data.datos[0].nombre_archivo,\n                            folder: data.datos[0].folder,\n                            extension: data.datos[0].extension,\n                          })\n                        : data.datos[0].url_foto_cliente\n                    }\n                    alt=\"profile-pic\"\n                    className={classes.img}\n                  />\n                </div>\n              </div>\n            </GridItem>\n            <GridItem md={12} sm={12} xs={12}>\n              <div className={classes.card}>\n                <h4 className={classes.cardDescription}>\n                  {data.datos[0].nombre} <br />\n                  Fecha: {data.datos[0].fecha} <br /> Hora: {data.datos[0].hora}{' '}\n                  <br />\n                  Estado: {data.datos[0].estado_cita} <br />\n                </h4>\n                <p className={classes.cardDescription}>\n                  {data.datos[0].descripcion}\n                </p>\n              </div>\n            </GridItem>\n            {showRaiting && (\n              <GridItem md={12} sm={12} xs={12}>\n                <div className={classes.card}>\n                  <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n                    <Typography component=\"legend\">\n                      {descCalificacion}\n                    </Typography>\n                    <Rating\n                      name=\"simple-controlled\"\n                      {...(rating > 0 && { readOnly: true })}\n                      value={rating}\n                      onChange={(event, newValue) => {\n                        calificarCita(newValue);\n                      }}\n                    />\n                  </Box>\n                </div>\n              </GridItem>\n            )}\n          </GridContainer>\n        ))}\n    </div>\n  );\n};\n\nexport default Date;\n","/**\n * Common functions for use in another components\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n * */\nexport const getUrlForView = ({ nameFile, folder, extension }) => {\n  console.log(process.env.REACT_APP_PROTOCOL);\n  let urlFile = '';\n  if (nameFile) {\n    urlFile = folder;\n    urlFile = urlFile.split('./../../../')[1];\n    urlFile = `${process.env.REACT_APP_PROTOCOL}://${process.env.REACT_APP_HOST}/${urlFile}${nameFile}.${extension}`;\n  }\n  return urlFile;\n};\n\n\nexport const capitalizeFirst = (cad, separator = ' ') => {\n  const capilatizeWord = (string) => string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n  return cad ? cad.split(separator).reduce((acc, curr) => acc + capilatizeWord(curr) + separator, '') : null;\n};\n","/**\n * pxp ui style for using in some component with more css\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n */\n\nimport { useTheme } from '@material-ui/core/styles';\n\n// ##############################\n// // // Function that converts from hex color to rgb color\n// // // Example: input = #9c27b0 => output = 156, 39, 176\n// // // Example: input = 9c27b0 => output = 156, 39, 176\n// // // Example: input = #999 => output = 153, 153, 153\n// // // Example: input = 999 => output = 153, 153, 153\n// #############################\nconst hexToRgb = (input) => {\n  input += '';\n  input = input.replace('#', '');\n  const hexRegex = /[0-9A-Fa-f]/g;\n  if (!hexRegex.test(input) || (input.length !== 3 && input.length !== 6)) {\n    throw new Error('input is not a valid hex color.');\n  }\n  if (input.length === 3) {\n    const first = input[0];\n    const second = input[1];\n    const last = input[2];\n    input = first + first + second + second + last + last;\n  }\n  input = input.toUpperCase(input);\n  const first = input[0] + input[1];\n  const second = input[2] + input[3];\n  const last = input[4] + input[5];\n  return `${parseInt(first, 16)}, ${parseInt(second, 16)}, ${parseInt(\n    last,\n    16,\n  )}`;\n};\n\n// ##############################\n// // // Variables - Styles that are used on more than one component\n// #############################\n\nconst drawerWidth = 260;\n\nconst primaryColor = [\n  '#9c27b0',\n  '#ab47bc',\n  '#8e24aa',\n  '#af2cc5',\n  '#e1bee7',\n  '#ba68c8',\n];\nconst secondaryColor = ['#fafafa'];\nconst warningColor = [\n  '#ff9800',\n  '#ffa726',\n  '#fb8c00',\n  '#ffa21a',\n  '#fcf8e3',\n  '#faf2cc',\n  '#ffe0b2',\n  '#ffb74d',\n];\nconst dangerColor = [\n  '#f44336',\n  '#ef5350',\n  '#e53935',\n  '#f55a4e',\n  '#f2dede',\n  '#ebcccc',\n  'ef9a9a',\n  '#ef5350',\n];\nconst successColor = [\n  '#4caf50',\n  '#66bb6a',\n  '#43a047',\n  '#5cb860',\n  '#dff0d8',\n  '#d0e9c6',\n  '#a5d6a7',\n  '#66bb6a',\n];\nconst infoColor = [\n  '#00acc1',\n  '#26c6da',\n  '#00acc1',\n  '#00d3ee',\n  '#d9edf7',\n  '#c4e3f3',\n  '#b2ebf2',\n  '#4dd0e1',\n];\nconst roseColor = ['#e91e63', '#ec407a', '#d81b60', '#f8bbd0', '#f06292'];\nconst grayColor = [\n  '#999',\n  '#3C4858',\n  '#eee',\n  '#343434',\n  '#585858',\n  '#232323',\n  '#ddd',\n  '#6c757d',\n  '#333',\n  '#212121',\n  '#777',\n  '#D2D2D2',\n  '#AAA',\n  '#495057',\n  '#e5e5e5',\n  '#555',\n  '#f9f9f9',\n  '#ccc',\n  '#444',\n  '#f2f2f2',\n  '#89229b',\n  '#c0c1c2',\n  '#9a9a9a',\n  '#f5f5f5',\n  '#505050',\n  '#1f1f1f',\n];\nconst whiteColor = '#FFF';\nconst blackColor = '#000';\nconst twitterColor = '#55acee';\nconst facebookColor = '#3b5998';\nconst googleColor = '#dd4b39';\nconst linkedinColor = '#0976b4';\nconst pinterestColor = '#cc2127';\nconst youtubeColor = '#e52d27';\nconst tumblrColor = '#35465c';\nconst behanceColor = '#1769ff';\nconst dribbbleColor = '#ea4c89';\nconst redditColor = '#ff4500';\nconst instagramColor = '#125688';\n\nconst transition = {\n  transition: 'all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)',\n};\n\nconst containerFluid = {\n  paddingRight: '15px',\n  paddingLeft: '15px',\n  marginRight: 'auto',\n  marginLeft: 'auto',\n  width: '100%',\n};\nconst container = {\n  ...containerFluid,\n  '@media (min-width: 576px)': {\n    maxWidth: '540px',\n  },\n  '@media (min-width: 768px)': {\n    maxWidth: '720px',\n  },\n  '@media (min-width: 992px)': {\n    maxWidth: '960px',\n  },\n  '@media (min-width: 1200px)': {\n    maxWidth: '1140px',\n  },\n};\n\nconst card = {\n  display: 'inline-block',\n  position: 'relative',\n  width: '100%',\n  margin: '25px 0',\n  boxShadow: `0 1px 4px 0 rgba(${hexToRgb(blackColor)}, 0.14)`,\n  borderRadius: '3px',\n  color: `rgba(${hexToRgb(blackColor)}, 0.87)`,\n  background: whiteColor,\n};\n\nconst defaultFont = {\n  fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  fontWeight: '300',\n  lineHeight: '1.5em',\n};\n\nconst boxShadow = {\n  boxShadow: `0 10px 30px -12px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.42), 0 4px 25px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 8px 10px -5px rgba(${hexToRgb(blackColor)}, 0.2)`,\n};\nconst primaryBoxShadow = {\n  boxShadow: `0 12px 20px -10px rgba(${hexToRgb(\n    primaryColor[0],\n  )}, 0.28), 0 4px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 7px 8px -5px rgba(${hexToRgb(primaryColor[0])}, 0.2)`,\n};\nconst infoBoxShadow = {\n  boxShadow: `0 12px 20px -10px rgba(${hexToRgb(\n    infoColor[0],\n  )}, 0.28), 0 4px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 7px 8px -5px rgba(${hexToRgb(infoColor[0])}, 0.2)`,\n};\nconst successBoxShadow = {\n  boxShadow: `0 12px 20px -10px rgba(${hexToRgb(\n    successColor[0],\n  )}, 0.28), 0 4px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 7px 8px -5px rgba(${hexToRgb(successColor[0])}, 0.2)`,\n};\nconst warningBoxShadow = {\n  boxShadow: `0 12px 20px -10px rgba(${hexToRgb(\n    warningColor[0],\n  )}, 0.28), 0 4px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 7px 8px -5px rgba(${hexToRgb(warningColor[0])}, 0.2)`,\n};\nconst dangerBoxShadow = {\n  boxShadow: `0 12px 20px -10px rgba(${hexToRgb(\n    dangerColor[0],\n  )}, 0.28), 0 4px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 7px 8px -5px rgba(${hexToRgb(dangerColor[0])}, 0.2)`,\n};\nconst roseBoxShadow = {\n  boxShadow: `0 4px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.14), 0 7px 10px -5px rgba(${hexToRgb(roseColor[0])}, 0.4)`,\n};\n\nconst warningCardHeader = {\n  color: whiteColor,\n  background: `linear-gradient(60deg, ${warningColor[1]}, ${warningColor[2]})`,\n  ...warningBoxShadow,\n};\nconst successCardHeader = {\n  color: whiteColor,\n  background: `linear-gradient(60deg, ${successColor[1]}, ${successColor[2]})`,\n  ...successBoxShadow,\n};\nconst dangerCardHeader = {\n  color: whiteColor,\n  background: `linear-gradient(60deg, ${dangerColor[1]}, ${dangerColor[2]})`,\n  ...dangerBoxShadow,\n};\nconst infoCardHeader = {\n  color: whiteColor,\n  background: `linear-gradient(60deg, ${infoColor[1]}, ${infoColor[2]})`,\n  ...infoBoxShadow,\n};\nconst primaryCardHeader = {\n  color: whiteColor,\n  background: `linear-gradient(60deg, ${primaryColor[1]}, ${primaryColor[2]})`,\n  ...primaryBoxShadow,\n};\nconst roseCardHeader = {\n  color: whiteColor,\n  background: `linear-gradient(60deg, ${roseColor[1]}, ${roseColor[2]})`,\n  ...roseBoxShadow,\n};\nconst cardActions = {\n  margin: '0 20px 10px',\n  paddingTop: '10px',\n  borderTop: `1px solid  ${grayColor[2]}`,\n  height: 'auto',\n  ...defaultFont,\n};\n\nconst cardHeader = {\n  margin: '-30px 15px 0',\n  borderRadius: '3px',\n  padding: '15px',\n};\n\nconst defaultBoxShadow = {\n  border: '0',\n  borderRadius: '3px',\n  boxShadow: `0 10px 20px -12px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.42), 0 3px 20px 0px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 8px 10px -5px rgba(${hexToRgb(blackColor)}, 0.2)`,\n  padding: '10px 0',\n  transition: 'all 150ms ease 0s',\n};\n\nconst title = {\n  color: grayColor[1],\n  textDecoration: 'none',\n  fontWeight: '700',\n  marginTop: '30px',\n  marginBottom: '25px',\n  minHeight: '32px',\n  fontFamily: `\"Roboto Slab\", \"Times New Roman\", serif`,\n};\n\nconst cardTitle = {\n  '&, & a': {\n    ...title,\n    marginTop: '.625rem',\n    marginBottom: '0.75rem',\n    minHeight: 'auto',\n  },\n};\n\nconst cardLink = {\n  '& + $cardLink': {\n    marginLeft: '1.25rem',\n  },\n};\n\nconst cardSubtitle = {\n  marginBottom: '0',\n  marginTop: '-.375rem',\n};\n\nconst main = {\n  background: whiteColor,\n  position: 'relative',\n  zIndex: '3',\n};\n\nconst mainRaised = {\n  '@media (max-width: 576px)': {\n    marginTop: '-30px',\n  },\n  '@media (max-width: 830px)': {\n    marginLeft: '10px',\n    marginRight: '10px',\n  },\n  margin: '-60px 30px 0px',\n  borderRadius: '6px',\n  boxShadow: `0 16px 24px 2px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.14), 0 6px 30px 5px rgba(${hexToRgb(\n    blackColor,\n  )}, 0.12), 0 8px 10px -5px rgba(${hexToRgb(blackColor)}, 0.2)`,\n};\n\nconst section = {\n  backgroundPosition: '50%',\n  backgroundSize: 'cover',\n};\n\nconst sectionDark = {\n  backgroundColor: grayColor[3],\n  background: `radial-gradient(ellipse at center,${grayColor[4]} 0,${grayColor[5]} 100%)`,\n};\n\nconst sectionDescription = {\n  marginTop: '130px',\n};\n\nconst description = {\n  color: grayColor[0],\n};\n\nconst mlAuto = {\n  marginLeft: 'auto',\n};\n\nconst mrAuto = {\n  marginRight: 'auto',\n};\n\nconst btnLink = {\n  backgroundColor: 'transparent',\n  boxShdow: 'none',\n  marginTop: '5px',\n  marginBottom: '5px',\n};\nconst coloredShadow = {\n  // some jss/css to make the cards look a bit better on Internet Explorer\n  '@media all and (-ms-high-contrast: none), (-ms-high-contrast: active)': {\n    display: 'none !important',\n  },\n  transform: 'scale(0.94)',\n  top: '12px',\n  filter: 'blur(12px)',\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  backgroundSize: 'cover',\n  zIndex: '-1',\n  transition: 'opacity .45s',\n  opacity: '0',\n};\n\nexport {\n  // variables\n  drawerWidth,\n  transition,\n  container,\n  containerFluid,\n  boxShadow,\n  card,\n  defaultFont,\n  primaryColor,\n  secondaryColor,\n  warningColor,\n  dangerColor,\n  successColor,\n  infoColor,\n  roseColor,\n  grayColor,\n  whiteColor,\n  blackColor,\n  twitterColor,\n  facebookColor,\n  googleColor,\n  linkedinColor,\n  pinterestColor,\n  youtubeColor,\n  tumblrColor,\n  behanceColor,\n  dribbbleColor,\n  redditColor,\n  instagramColor,\n  primaryBoxShadow,\n  infoBoxShadow,\n  successBoxShadow,\n  warningBoxShadow,\n  dangerBoxShadow,\n  roseBoxShadow,\n  warningCardHeader,\n  successCardHeader,\n  dangerCardHeader,\n  infoCardHeader,\n  primaryCardHeader,\n  roseCardHeader,\n  cardActions,\n  cardHeader,\n  defaultBoxShadow,\n  title,\n  cardTitle,\n  description,\n  cardLink,\n  cardSubtitle,\n  main,\n  mainRaised,\n  section,\n  sectionDark,\n  sectionDescription,\n  mlAuto,\n  mrAuto,\n  btnLink,\n  coloredShadow,\n  hexToRgb,\n};\n","import React from 'react';\n// nodejs library to set properties for components\nimport PropTypes from 'prop-types';\n\n// @material-ui/core components\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst styles = {\n  grid: {\n    marginRight: '-15px',\n    marginLeft: '-15px',\n    width: 'auto',\n  },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridContainer(props) {\n  const { children, className, ...rest } = props;\n  const classes = useStyles();\n  return (\n    <Grid container {...rest} className={`${classes.grid} ${className}`}>\n      {children}\n    </Grid>\n  );\n}\n\nGridContainer.defaultProps = {\n  className: '',\n};\n\nGridContainer.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n","import React from 'react';\n// nodejs library to set properties for components\nimport PropTypes from 'prop-types';\n// @material-ui/core components\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nconst styles = {\n  grid: {\n    position: 'relative',\n    width: '100%',\n    minHeight: '1px',\n    paddingRight: '15px',\n    paddingLeft: '15px',\n    /* flexBasis: \"auto\" */\n  },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport default function GridItem(props) {\n  const { children, className, ...rest } = props;\n  const classes = useStyles();\n  return (\n    <Grid item {...rest} className={`${classes.grid} ${className}`}>\n      {children}\n    </Grid>\n  );\n}\n\nGridItem.defaultProps = {\n  className: '',\n};\n\nGridItem.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n};\n","module.exports = __webpack_public_path__ + \"static/media/door.29dd3710.mp3\";","module.exports = __webpack_public_path__ + \"static/media/notify_2.bf74a725.mp3\";","module.exports = __webpack_public_path__ + \"static/media/notify.b019027d.mp3\";","/**\n * Component for render the message\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n */\nimport React, { useState } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport clsx from 'clsx';\nimport { Avatar, Box, Link, Typography, makeStyles } from '@material-ui/core';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(2),\n    display: 'flex',\n    paddingRight: '10px',\n    paddingLeft: '10px',\n  },\n  avatar: {\n    height: 32,\n    width: 32,\n  },\n  image: {\n    cursor: 'pointer',\n    height: 'auto',\n    maxWidth: '100%',\n    width: 380,\n  },\n}));\n\nfunction Message({\n  className,\n  avatar,\n  user,\n  userNameFrom,\n  idFrom,\n  message,\n  date,\n  ...rest\n}) {\n  const classes = useStyles();\n  const dateMessage = date || new Date();\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Box display=\"flex\" maxWidth={500} ml={user === idFrom ? 'auto' : 0}>\n        <Avatar className={classes.avatar} src={avatar} />\n        <Box ml={2}>\n          <Box\n            bgcolor={user === idFrom ? 'secondary.main' : 'background.default'}\n            color={user === idFrom ? 'secondary.contrastText' : 'text.primary'}\n            py={1}\n            px={2}\n            borderRadius=\"borderRadius\"\n            boxShadow={1}\n          >\n            <Typography color=\"inherit\" variant=\"h6\">\n              {userNameFrom}\n            </Typography>\n            <Box mt={1}>\n              <Typography\n                color=\"inherit\"\n                variant=\"body1\"\n                style={{\n                  whiteSpace: 'pre-wrap',\n                  wordBreak: 'break-all',\n                }}\n              >\n                {message}\n              </Typography>\n            </Box>\n          </Box>\n          <Box mt={1} display=\"flex\" justifyContent=\"flex-end\">\n            <Typography noWrap color=\"textSecondary\" variant=\"caption\">\n              {moment(date).fromNow()}\n              {/* {moment.utc(dateMessage).local().fromNow()} */}\n            </Typography>\n          </Box>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n\nexport default Message;\n","import React from 'react';\nimport { SvgIcon } from '@material-ui/core';\n\nconst PaperPlane = (props) => {\n  return (\n    <SvgIcon {...props} viewBox=\"0 0 50 50\">\n      <path d=\"M 48.90625 0 C 48.773438 0.015625 48.648438 0.0585938 48.53125 0.125 L 0.53125 26.125 C 0.183594 26.3125 -0.0195313 26.6875 0.0117188 27.082031 C 0.046875 27.476563 0.3125 27.8125 0.6875 27.9375 L 14.3125 32.40625 L 13 45.90625 C 12.945313 46.34375 13.1875 46.765625 13.59375 46.941406 C 14 47.117188 14.472656 47 14.75 46.65625 L 23.34375 36.9375 L 36.3125 49.71875 C 36.566406 49.96875 36.933594 50.0625 37.277344 49.964844 C 37.621094 49.867188 37.882813 49.597656 37.96875 49.25 L 49.96875 1.25 C 50.058594 0.933594 49.980469 0.59375 49.769531 0.34375 C 49.554688 0.09375 49.234375 -0.0351563 48.90625 0 Z M 47.46875 2.9375 L 36.4375 47.0625 L 24.59375 35.375 L 41.8125 11.59375 C 42.191406 11.195313 42.179688 10.566406 41.78125 10.1875 C 41.382813 9.808594 40.753906 9.820313 40.375 10.21875 L 15.21875 30.59375 L 3.5 26.78125 Z M 35.78125 16.5 L 22.65625 34.71875 C 22.621094 34.757813 22.589844 34.800781 22.5625 34.84375 L 22.5 34.90625 C 22.476563 34.9375 22.457031 34.96875 22.4375 35 L 15.28125 43.03125 L 16.34375 32.21875 Z\"/>\n    </SvgIcon>\n  );\n};\n\nexport default PaperPlane;\n","/**\n * Component for render the form for sending message\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n */\nimport React, { useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { useSnackbar } from 'notistack';\nimport {\n  Avatar,\n  Box,\n  Divider,\n  IconButton,\n  Input,\n  Paper,\n  SvgIcon,\n  Tooltip,\n  makeStyles,\n} from '@material-ui/core';\nimport { sendMessageWs } from 'pxp-client';\nimport PaperPlane from '../../../_pxp/icons/PaperPlane';\n/*\nimport { Send as SendIcon } from 'react-feather';\n*/\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(1, 2),\n  },\n  divider: {\n    width: 1,\n    height: 24,\n  },\n  fileInput: {\n    display: 'none',\n  },\n}));\n\nfunction MessageAdd({\n  className,\n  disabled,\n  thread,\n  onAdd,\n  eventWs,\n  handleSend,\n  ...rest\n}) {\n  const classes = useStyles();\n\n  const [message, setMessage] = useState('');\n  const handleChange = (event) => {\n    event.persist();\n    setMessage(event.target.value);\n  };\n  const handleResetInput = () => {\n    setMessage('');\n  };\n  const handleKeyUp = (event) => {\n    if (event.keyCode === 13) {\n      handleSend(message, handleResetInput);\n    }\n  };\n\n\n  return (\n    <div className={clsx(classes.root, className)} {...rest}>\n      <Paper variant=\"outlined\" component={Box} flexGrow={1} ml={2} p={1}>\n        <Input\n          className={classes.input}\n          disableUnderline\n          fullWidth\n          value={message}\n          onChange={handleChange}\n          onKeyUp={handleKeyUp}\n          placeholder=\"Leave a message\"\n        />\n      </Paper>\n      <Tooltip title=\"Send\">\n        <span>\n          <IconButton\n            color=\"secondary\"\n            disabled={!message || disabled}\n            onClick={() => handleSend(message, handleResetInput)}\n          >\n            <PaperPlane fontSize=\"small\" />\n          </IconButton>\n        </span>\n      </Tooltip>\n      <Divider className={classes.divider} />\n    </div>\n  );\n}\n\nexport default MessageAdd;\n","/**\n * Component for draw the chat (message and messageAdd)\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n */\nimport React, { useEffect, useRef, useState } from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport { Box, Divider } from '@material-ui/core';\n\nimport {\n  removeWebSocketListener,\n  sendMessageWs,\n  webSocketListener,\n} from 'pxp-client';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport { v4 as uuIdV4 } from 'uuid';\nimport Message from './Message';\nimport MessageAdd from './MessageAdd';\nimport useJsonStore from '../../../_pxp/hooks/useJsonStore';\nimport Pxp from '../../../Pxp';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: theme.palette.background.dark,\n  },\n}));\nconst ThreadDetails = ({ eventWs, idChat, idComponent }) => {\n  const classes = useStyles();\n  const messagesRef = useRef(null);\n\n  const [user, setUser] = useState();\n\n  const getDataTable = {\n    url: 'parametros/Mensaje/listarMensaje',\n    params: {\n      start: '0',\n      limit: '10000',\n      sort: 'id_mensaje',\n      dir: 'asc',\n      id_chat: idChat,\n    },\n  };\n\n  const { data, setData } = useJsonStore(getDataTable);\n\n  const listenerMessage = (e) => {\n    console.log(e);\n    setData((prevData) => {\n      if (prevData) {\n        return {\n          ...prevData,\n          datos: prevData.datos.concat([\n            {\n              id_mensaje: uuIdV4(),\n              id_usuario_from: e.from.idUser,\n              user_name_from: e.from.user,\n              mensaje: e.mensaje,\n            },\n          ]),\n        };\n      }\n    });\n    messagesRef.current.scrollToBottom(0);\n  };\n  useEffect(() => {\n    console.log('data', data);\n    if (data) {\n      messagesRef.current.scrollToBottom(0);\n    }\n  }, [data]);\n  // mount\n  useEffect(() => {\n    // eslint-disable-next-line no-underscore-dangle\n    setUser(Pxp.apiClient._authenticated.id_usuario);\n    webSocketListener({\n      event: eventWs,\n      idComponent,\n      handle: (e) => {\n        listenerMessage(e);\n      },\n    });\n  }, []);\n\n  // we need to remove the webSocketListener when the component is unmount\n  useEffect(() => {\n    return () => {\n      console.log('desmontar');\n      removeWebSocketListener({\n        idComponent,\n        event: eventWs,\n      });\n    };\n  }, []);\n\n  const createMsg = (message, afterSaveMsg) => {\n    Pxp.apiClient\n      .doRequest({\n        url: 'parametros/Mensaje/insertarMensaje',\n        params: {\n          id_chat: idChat,\n          mensaje: message,\n        },\n      })\n      .then((resp) => {\n        afterSaveMsg();\n      });\n  };\n  const handleSend = (message, callback) => {\n    if (message !== '') {\n      setData((prevData) => {\n        if (prevData) {\n          return {\n            ...prevData,\n            datos: prevData.datos.concat([\n              {\n                id_mensaje: uuIdV4(),\n                id_usuario_from: user,\n                user_name_from: Pxp.apiClient._authenticated.nombre_usuario,\n                mensaje: message,\n              },\n            ]),\n          };\n        }\n      });\n      createMsg(message, () => {\n        console.log('msg has sent');\n      });\n      sendMessageWs({\n        event: eventWs,\n        msg: message,\n      });\n      setTimeout(() => {\n        messagesRef.current.scrollToBottom(0);\n      }, 100);\n      callback();\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <Box\n        flexGrow={1}\n        p={2}\n        ref={messagesRef}\n        component={Scrollbars}\n        options={{ suppressScrollX: true }}\n      >\n        {data &&\n          data.datos.map((i) => (\n            <Message\n              key={i.id_mensaje}\n              user={user}\n              userNameFrom={i.user_name_from}\n              idFrom={i.id_usuario_from}\n              message={i.mensaje}\n              date={i.fecha_reg}\n            />\n          ))}\n      </Box>\n      <MessageAdd eventWs={eventWs} handleSend={handleSend} />\n    </div>\n  );\n};\n\nexport default ThreadDetails;\n","/**\n * Component for showing the chat for some table(ttipo_chat)\n * @copyright Kplian Ltda 2020\n * @uthor Favio Figueroa\n *\n */\nimport React from 'react';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport ThreadDetails from './ThreadDetails';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    height: '100%',\n    display: 'flex',\n    overflow: 'hidden',\n    position: 'relative',\n    width:'100%'\n  },\n}));\nconst ChatView = ({\n  table,\n  idTable,\n  idTableDesc,\n  typeChat,\n  idChat,\n  idComponent,\n}) => {\n  const classes = useStyles();\n\n  const event = `${typeChat}_${idTableDesc}_${idTable}_${idChat}`;\n\n  return (\n    <div className={classes.root}>\n      <ThreadDetails\n        eventWs={event}\n        idChat={idChat}\n        idComponent={idComponent}\n      />\n    </div>\n  );\n};\n\nexport default ChatView;\n","export const parseDateDiff = ({ years, months, days, hours, minutes, seconds }, hideSeconds = false) => {\n  var STRINGS = {\n    nodiff: '',\n    year: 'año',\n    years: 'años',\n    month: 'mes',\n    months: 'meses',\n    day: 'dia',\n    days: 'dias',\n    hour: 'hora',\n    hours: 'horas',\n    minute: 'minuto',\n    minutes: 'minutos',\n    second: 'segundo',\n    seconds: 'segundos',\n    delimiter: ' '\n  };\n\n  function pluralize(num, word) {\n    return num + ' ' + STRINGS[word + (num === 1 ? '' : 's')];\n  }\n\n  function buildStringFromValues(yDiff, mDiff, dDiff, hourDiff, minDiff, secDiff) {\n    var result = [];\n\n    if (yDiff) {\n      result.push(pluralize(yDiff, 'year'));\n    }\n    if (mDiff) {\n      result.push(pluralize(mDiff, 'month'));\n    }\n    if (dDiff) {\n      result.push(pluralize(dDiff, 'day'));\n    }\n    if (hourDiff) {\n      result.push(pluralize(hourDiff, 'hour'));\n    }\n    if (minDiff) {\n      result.push(pluralize(minDiff, 'minute'));\n    }\n    if (secDiff && !hideSeconds) {\n      result.push(pluralize(secDiff, 'second'));\n    }\n\n    return result.join(STRINGS.delimiter);\n  }\n\n  return buildStringFromValues(years, months, days, hours, minutes, seconds);\n\n};","import React from 'react';\nimport {\n  Box\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport clsx from 'clsx';\nimport useSound from 'use-sound';\nimport { parseDateDiff } from './timer-parse';\n\nimport alarm from '../../resourses/door.mp3';\nimport alarm2 from '../../resourses/notify_2.mp3';\nimport notify from '../../resourses/notify.mp3';\n\nconst useStyles = makeStyles(theme => ({\n  timer: {\n    padding: 0,\n    textAlign: 'center',\n    fontSize: '1rem',\n  },\n  small: {\n    fontSize: '0.8rem',\n  },\n  large: {\n    fontSize: '3.5rem',\n  }\n}));\n\n\nconst convertTime = (time) => {\n  const h = Math.trunc(time / 3600);\n  let untime = time % 3600;\n  const m = Math.trunc(untime / 60);\n  const s = (untime % 60);\n  return {\n    hours: h,\n    minutes: m,\n    seconds: s,\n  };\n};\n\nconst hourDigital = ({ hours, minutes, seconds }) => checkTime(hours) + \":\" + checkTime(minutes) + \":\" + checkTime(seconds);\n\nfunction checkTime(i) {\n  if (i < 10) {\n    i = \"0\" + i;\n  }\n  return i;\n}\n\nconst convertTimeSeconds = ({ hours, minutes, seconds }) => hours * 3600 + minutes * 60 + seconds;\n\nconst Timer = ({ timer, time, size, type = 'text', alarmInterval = null }) => {\n  const classes = useStyles();\n  const operator = timer ? -1 : 1;\n  const [timerInterval, setTimer] = React.useState(convertTimeSeconds(time));\n  const [isActive, setIsActive] = React.useState(true);\n\n  // const alarm = '../../resourses/door.mp3';\n  const [playOn] = useSound(\n    alarm2,\n    { volume: 1 }\n  );\n  const [notifyOn] = useSound(\n    notify,\n    { volume: 1 }\n  );\n  const timerRun = () => setInterval(() => setTimer(timerInterval + operator), 1000);\n\n\n  React.useEffect(() => {\n    let interval;\n    if (isActive) {\n      interval = timerRun();\n    } else if (!isActive && timerInterval !== 0) {\n      clearInterval(interval);\n    }\n\n    if (timerInterval === 0) {\n      playOn();\n      setIsActive(false);\n    }\n\n    if (alarmInterval && timerInterval % alarmInterval === 0) {\n      notifyOn();\n    }\n    return () => clearInterval(interval);\n  }, [timerInterval, isActive]);\n\n  return (\n    <Box className={clsx(classes.timer, classes[size])}>\n      {type === 'digital' && <label>{hourDigital(convertTime(timerInterval))}</label>}\n      {type === 'text' && <label>{parseDateDiff(convertTime(timerInterval))}</label>}\n    </Box>\n  )\n};\n\nexport default Timer;\n","import React from 'react';\nimport {\n  Button,\n  ButtonGroup,\n  Icon,\n  Typography\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport Timer from './Timer';\nimport { capitalizeFirst } from '../../../_pxp/utils/Common';\nimport { useHistory } from 'react-router-dom';\n// REDUX\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updateCitaStateAction } from '../../redux/citas-actions';\n\n// Moment\nimport moment from 'moment';\nimport 'moment-precise-range-plugin';\nimport 'moment/locale/es';\nimport { parseDateDiff } from './timer-parse';\nmoment.locale('es');\n\nconst useStyles = makeStyles(theme => ({\n  messageContent: {\n    textAlign: 'center',\n    marginTop: '0.8rem',\n    marginBottom: '0.8rem',\n  },\n  message: {\n    fontSize: '1rem',\n  },\n  label: {\n    fontSize: '0.6rem',\n  }\n}));\n\nconst Actions = ({ options = [], data = {} }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  // const { data: dataService, setParams, error } = useServicesDama();\n  const dispatch = useDispatch();\n\n  const changeState = (nextState) => {\n    dispatch(updateCitaStateAction(\n      data.id_cita,\n      nextState,\n      data.latitud_ubicacion,\n      data.longitud_ubicacion\n    ));\n  };\n\n  const goTo = (url) => history.push(url + data.id_cita);\n\n  return (\n    <ButtonGroup variant=\"contained\" color=\"primary\" fullWidth>\n      {options.map(option => (\n        <Button\n          key={option.label}\n          onClick={option.nextState ? () => changeState(option.nextState) : () => goTo(option.url)}\n          color={option.color || 'primary'}\n          startIcon={<Icon>{option.icon}</Icon>}\n          className={classes.label}\n        >\n          {option.label}\n        </Button>\n      ))}\n    </ButtonGroup>\n  );\n};\n\nconst statesDama = {\n  disponible: 'si',\n  noDisponible: 'no',\n};\n\nconst statesCita = {\n  cancelada: 'cancelada',\n  completada: 'completada',\n  confirmada: 'confirmada',\n  finalizada: 'finalizada',\n  iniciada: 'iniciada',\n  panico: 'panico',\n  programada: 'programada',\n  sinCita: 'sin cita',\n  solicitada: 'solicitada',\n  rechazada: 'rechazada',\n};\n\nconst setVariables = (dataDama = {}) => {\n  const { disponible, credito, credito_minimo } = dataDama;\n  const stateDama = disponible === statesDama.disponible ? true : false;\n  const creditValid = parseFloat(credito) < parseFloat(credito_minimo) ? false : true;\n\n  return {\n    disponible,\n    stateCita: dataDama.estado_cita,\n    credito,\n    credito_minimo,\n    alias: dataDama.nombre_dama,\n    stateDama,\n    creditValid\n  }\n};\n\nconst commonButtons = {\n  goToCita: {\n    label: 'IR A LA CITA',\n    icon: 'date_range',\n    // color: 'secondary',\n    url: '/citas/detail/',\n  },\n  confirmCita: {\n    label: 'CONFIRMAR CITA',\n    icon: 'thumb_up_alt',\n    color: 'secondary',\n    nextState: statesCita.programada\n  },\n  cancelCita: {\n    label: 'CANCELAR CITA',\n    icon: 'thumb_down_alt',\n    nextState: statesCita.rechazada\n  },\n  startCita: {\n    label: 'INICIAR CITA',\n    icon: 'date_range',\n    nextState: statesCita.iniciada\n  },\n  panic: {\n    label: 'Activar Panico',\n    icon: 'campaign',\n    nextState: statesCita.panico\n  },\n  endCita: {\n    label: 'Finalizar Cita',\n    icon: 'cancel',\n    color: 'secondary',\n    nextState: statesCita.finalizada\n  },\n  error: {\n    label: 'FUE UN ERROR',\n    color: 'secondary',\n    icon: 'sentiment_very_satisfied',\n    nextState: statesCita.iniciada,\n  },\n  endPanic: {\n    label: 'Finalizar Cita',\n    icon: 'sentiment_dissatisfied',\n    nextState: statesCita.completada,   // Analizar posible cambio segun se presiono o use el boton de PANICO\n  },\n  completeCita: {\n    label: 'Completar Cita',\n    color: 'secondary',\n    icon: 'check',\n    nextState: statesCita.completada\n  }\n};\n\nconst viewState = (data = {}) => {\n  const { alias, fecha_cita, hora_cita, cliente_cita, fecha_hora_estado_cita } = data;\n\n  const name = `<b>${capitalizeFirst(alias)}</b>`;\n  const cliente = `<b>${capitalizeFirst(cliente_cita)}</b>`;\n  const date = moment(fecha_cita + ' ' + hora_cita, 'YYYY-MM-DD HH:mm:ss');\n  const diff = date.preciseDiff(moment(), true);\n  const diffState = moment().preciseDiff(moment(fecha_hora_estado_cita), true);\n  const stringDiff = parseDateDiff(diff, true);\n  const states = {};\n\n  states.solicitadaCredit = {\n    actions: [\n      commonButtons.cancelCita,\n      commonButtons.confirmCita,\n      commonButtons.goToCita\n    ],\n    message: `${name}, tiene solicitada una cita de ${cliente}, sin confirmar para el \n      <b>${date.format('dddd, LL [a las] LT')}</b> ¿Qué desea hacer?.`\n  };\n\n  states.solicitadaNoCredit = {\n    actions: null,\n    message: `${name}, tiene solicitada una cita de ${cliente}, sin confirmar y no tiene credito suficiente para confirmarla. \n      Contactese con el administrador para recargar mas credito.`\n  };\n\n  states.programada = {\n    actions: [\n      { ...commonButtons.cancelCita, nextState: statesCita.cancelada },\n      { ...commonButtons.confirmCita, nextState: statesCita.confirmada },\n    ],\n    message: `${name}, usted tiene una cita programada con ${cliente}, dentro de: `,\n    timer: {\n      timer: true,\n      time: diff\n    }\n  };\n\n  states.confirmada = {\n    actions: [\n      commonButtons.startCita\n    ],\n    message: `${name}, su cita con ${cliente}, fue confirmada hace: `,\n    timer: {\n      timer: false,\n      time: diffState\n    }\n  };\n\n  states.iniciada = {\n    actions: [\n      commonButtons.panic,\n      commonButtons.endCita,\n    ],\n    message: `${name}, su cita con ${cliente}, fue iniciada hace:`,\n    timer: {\n      timer: false,\n      time: diffState,\n      size: 'large',\n      type: 'digital',\n      alarmInterval: 2 * 60\n    }\n  };\n\n  states.panico = {\n    actions: [\n      commonButtons.error,\n      commonButtons.endPanic,\n    ],\n    message: `${name}, hemos recibido su solicitud de ayuda!!!`,\n  };\n\n  states.finalizada = {\n    actions: [\n      commonButtons.panic,\n      commonButtons.completeCita,\n    ],\n    message: `${name}, complete la cita con ${cliente}, una vez que se encuentre segura.`,\n  };\n\n  states.sinCitaCreditDama = {\n    actions: null,\n    message: `${name}, se encuentra disponible para recibir citas. \n      Por favor permanezca atenta a nuevas solicitudes y verifique que su ubicación es la correcta.`,\n  };\n\n  states.sinCitaCreditNoDama = {\n    actions: null,\n    message: `${name}, no te encuentras disponible en este momento. \n      Ponte disponible para que mas clientes te puedan contactar.`,\n  };\n\n  states.sinCitaNoCreditNoDama = {\n    actions: null,\n    message: `${name}, no tiene credito suficiente para estar disponible en la aplicación. \n      Contactese con el administrador para recargar mas credito`,\n  };\n\n  return states;\n};\nexport const stateOptions = (dataDama) => {\n  const {\n    stateCita,\n    alias,\n    stateDama,\n    creditValid\n  } = setVariables(dataDama);\n\n  const currentState = viewState({ ...dataDama, alias });\n  switch (stateCita) {\n    case statesCita.solicitada:\n      return creditValid ? currentState.solicitadaCredit : currentState.solicitadaNoCredit;\n    case statesCita.programada:\n      return currentState.programada;\n    case statesCita.confirmada:\n      return currentState.confirmada;\n    case statesCita.iniciada:\n      return currentState.iniciada;\n    case statesCita.panico:\n      return currentState.panico;\n    case statesCita.finalizada:\n      return currentState.finalizada;\n    case statesCita.sinCita: {\n      if (stateDama && creditValid) { // VALIDAR CREDITO >= 50bs\n        return currentState.sinCitaCreditDama;\n      } else if (creditValid && !stateDama) {\n        return currentState.sinCitaCreditNoDama;\n      } else {\n        return currentState.sinCitaNoCreditNoDama;\n      }\n    };\n    default: return {\n      actions: null,\n      message: `Sin datos, para una próxima cita.`\n    };\n  }\n};\n\nexport const StateDama = ({ data = {} }) => {\n  const classes = useStyles();\n  const { actions = null, message, timer = null } = stateOptions({ ...data });\n\n  return (\n    <>\n      <p className={classes.messageContent}>\n        <Typography variant=\"caption\" color=\"textSecondary\" className={classes.message}>\n          <span dangerouslySetInnerHTML={{ __html: message }} />\n\n        </Typography>\n      </p>\n      {timer &&\n        <Timer timer={timer.timer}\n          time={timer.time}\n          size={timer.size}\n          type={timer.type}\n          alarmInterval={timer.alarmInterval}\n        />}\n      {actions && <Actions options={actions} data={data} />}\n    </>\n  )\n};\n\nexport const StateDamaChat = ({ data = {} }) => {\n  const { actions = null} = stateOptions({ ...data });\n\n  return <>{actions && <Actions options={actions} data={data} />}</>;\n};\n"],"sourceRoot":""}