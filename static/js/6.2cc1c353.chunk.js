(this["webpackJsonppxp-ui"]=this["webpackJsonppxp-ui"]||[]).push([[6],{6709:function(e,a,t){"use strict";t.r(a);var n=t(5),c=t(8),r=t(16),i=t(0),o=t.n(i),l=t(34),s=t(70),d=t(759),m=t(787),u=t.n(m),p=t(58),f=t(693),b=t(952),g=t(788),x={mrAuto:g.r,mlAuto:g.q,title:g.y,description:Object(n.a)(Object(n.a)({},g.f),{},{marginBottom:"80px"}),cardTitle:g.c,cardDescription:{color:g.j[0]},team:{padding:"10px 0px",overflow:"hidden"},textCenter:{textAlign:"center!important"},img:{width:"100%",height:"100px"},textMuted:{color:"".concat(g.j[1]," !important")},justifyContent:{justifyContent:"center!important"},card:{border:"0",marginBottom:"10px",borderRadius:"6px",color:"rgba(".concat(Object(g.k)(g.v[0]),", 0.87)"),width:"100%",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem","@media all and (-ms-high-contrast: none), (-ms-high-contrast: active)":{display:"inline-block !important"},background:"transparent",boxShadow:"none",marginTop:"5px",marginLeft:"10px",textAlign:"center"},cardAvatar:{"&$cardAvatarProfile img,&$cardAvatarTestimonial img":{width:"100%",height:"auto"}},cardAvatarProfile:{width:"80px",height:"80px",margin:"-50px auto 0",borderRadius:"50%",overflow:"hidden",padding:"0",boxShadow:"0 16px 38px -12px rgba(".concat(Object(g.k)(g.b),", 0.56), 0 4px 25px 0px rgba(").concat(Object(g.k)(g.b),", 0.12), 0 8px 10px -5px rgba(").concat(Object(g.k)(g.b),", 0.2)"),"&$cardAvatarPlain":{marginTop:"10px"}},cardAvatarPlain:{},pullRight:{position:"absolute",right:0,top:"15px"},pullRight2:{position:"absolute",right:0,top:"65px"}},h=t(835),v=t(836),j=t(883),C=t(189),O=t(448),E=t(779),_=t(7),y=t(2),S=t(325),w=t.n(S),N=t(238),k=t(84),A=t(694),T=t(627),L=t(296),R=t(701),I=t(700),D=t(702),z=t(802),F=t.n(z),W=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.default,height:64,flexShrink:0,display:"flex",alignItems:"center",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},onlineIndicator:{marginRight:e.spacing(1)},searchInput:{marginLeft:e.spacing(2),flexGrow:1}}})),M=function(e){var a=e.className,t=e.rest,n=e.contact,r=W(),s=Object(l.g)(),d=Object(i.useRef)(null),m=Object(i.useState)(!1),u=Object(c.a)(m,2),b=u[0],g=u[1];return o.a.createElement("div",Object.assign({className:Object(y.a)(r.root,a)},t),o.a.createElement(N.a,{className:r.menuButton,onClick:function(){return s.goBack()}},o.a.createElement(k.a,{fontSize:"small"},o.a.createElement(w.a,null))),n&&o.a.createElement(f.a,{display:"flex",alignItems:"center"},o.a.createElement(A.a,{src:n.avatar}),o.a.createElement(f.a,{ml:1},o.a.createElement(p.a,{variant:"h6",color:"textPrimary"},n.name),o.a.createElement(f.a,{display:"flex",alignItems:"center"},n.desc),o.a.createElement(f.a,{display:"flex",alignItems:"center"},n.state))),o.a.createElement(f.a,{flexGrow:1}),o.a.createElement(T.a,{title:"More options"},o.a.createElement(N.a,{onClick:function(){g(!0)},ref:d},o.a.createElement(k.a,{fontSize:"small"},o.a.createElement(F.a,null)))),o.a.createElement(L.a,{anchorEl:d.current,keepMounted:!0,elevation:1,onClose:function(){g(!1)},open:b},o.a.createElement(R.a,null,o.a.createElement(I.a,null,o.a.createElement(k.a,{fontSize:"small"},o.a.createElement(F.a,null))),o.a.createElement(D.a,{primary:"Button"}))))},B=t(884),P=Object(s.a)(x);a.default=function(){var e,a=P(),t=Object(l.i)().id,s=u()((e={},Object(r.a)(e,a.cardAvatar,!0),Object(r.a)(e,a.cardAvatarProfile,!0),Object(r.a)(e,a.cardAvatarPlain,!0),e)),m=Object(i.useState)(0),g=Object(c.a)(m,2),x=g[0],y=g[1],S=Object(i.useState)(!1),w=Object(c.a)(S,2),N=w[0],k=w[1],A=Object(i.useState)(!1),T=Object(c.a)(A,2),L=T[0],R=T[1],I=Object(i.useState)({open:!1,table:"cita.vcita_usuarios",idTableDesc:"id_cita",idTable:void 0,typeChat:"CHAT_DATA_EXAMPLE",idChat:void 0,idComponent:Object(d.a)()}),D=Object(c.a)(I,2),z=D[0],F=D[1],W={url:"citas/Cita/listarCita",params:{id_cita:t,start:0,limit:"1"}},H=Object(C.a)(W).data,q=Object(i.useState)(),U=Object(c.a)(q,2),G=U[0],Y=U[1],Z=Object(O.a)();Object(i.useEffect)((function(){H&&H.datos.length>0&&"Y"===H.datos[0].chat&&F((function(e){return Object(n.a)(Object(n.a)({},e),{},{idTable:t,idChat:H.datos[0].id_chat,open:!0})})),H&&H.datos.length>0&&("finalizada"===H.datos[0].estado_cita||"completada"===H.datos[0].estado_cita)&&(k(!0),y(H.datos[0].calificacion),H.datos[0].calificacion?R("Tu Calificaci\xf3n a ".concat(H.datos[0].nombre)):R("Califica el servicio de ".concat(H.datos[0].nombre)))}),[H]),Object(i.useEffect)((function(){}),[]),Object(i.useEffect)((function(){Y(Z.height)}),[Z]);return o.a.createElement("div",{className:a.team},H&&H.datos.length>0&&("Y"===H.datos[0].chat?o.a.createElement(h.a,null,o.a.createElement(v.a,{md:12,sm:12,xs:12},o.a.createElement(M,{contact:{name:H.datos[0].nombre,avatar:"cliente"===H.datos[0].cliente_dama?Object(E.b)({nameFile:H.datos[0].nombre_archivo,folder:H.datos[0].folder,extension:H.datos[0].extension}):H.datos[0].url_foto_cliente,desc:"Cita: ".concat(H.datos[0].fecha," ").concat(H.datos[0].hora),state:"Estado: ".concat(H.datos[0].estado_cita)}})),o.a.createElement(v.a,{md:12,sm:12,xs:12},"dama"===H.datos[0].cliente_dama&&o.a.createElement(B.b,{data:H.datos[0]})),o.a.createElement(v.a,{md:12,sm:12,style:{height:"calc(".concat(G,"px - 180px)")}},z.idChat&&o.a.createElement(j.a,{table:z.table,idTable:z.idTable,idTableDesc:z.idTableDesc,typeChat:z.typeChat,idComponent:z.idComponent,idChat:z.idChat}))):o.a.createElement(h.a,null,o.a.createElement(v.a,{md:12,sm:12,xs:12,style:{marginTop:"20vh"}},o.a.createElement("div",{className:a.card},o.a.createElement("div",{className:s},o.a.createElement("img",{src:"cliente"===H.datos[0].cliente_dama?Object(E.b)({nameFile:H.datos[0].nombre_archivo,folder:H.datos[0].folder,extension:H.datos[0].extension}):H.datos[0].url_foto_cliente,alt:"profile-pic",className:a.img})))),o.a.createElement(v.a,{md:12,sm:12,xs:12},o.a.createElement("div",{className:a.card},o.a.createElement("h4",{className:a.cardDescription},H.datos[0].nombre," ",o.a.createElement("br",null),"Fecha: ",H.datos[0].fecha," ",o.a.createElement("br",null)," Hora: ",H.datos[0].hora," ",o.a.createElement("br",null),"Estado: ",H.datos[0].estado_cita," ",o.a.createElement("br",null)),o.a.createElement("p",{className:a.cardDescription},H.datos[0].descripcion))),N&&o.a.createElement(v.a,{md:12,sm:12,xs:12},o.a.createElement("div",{className:a.card},o.a.createElement(f.a,{component:"fieldset",mb:3,borderColor:"transparent"},o.a.createElement(p.a,{component:"legend"},L),o.a.createElement(b.a,Object.assign({name:"simple-controlled"},x>0&&{readOnly:!0},{value:x,onChange:function(e,a){var n;n=a,_.a.apiClient.doRequest({url:"citas/Cita/calificarCita",params:{id_cita:t,calificacion:n}}).then((function(e){console.log(e),y(n),R("Gracias por la calificaci\xf3n !!")}))}}))))))))}},779:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return c}));var n=function(e){var a=e.nameFile,t=e.folder,n=e.extension;console.log("http");var c="";return a&&(c=(c=t).split("./../../../")[1],c="".concat("http","://").concat("pxp.vouz.me","/").concat(c).concat(a,".").concat(n)),c},c=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",t=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()};return e?e.split(a).reduce((function(e,n){return e+t(n)+a}),""):null}},788:function(e,a,t){"use strict";t.d(a,"d",(function(){return S})),t.d(a,"t",(function(){return r})),t.d(a,"w",(function(){return i})),t.d(a,"B",(function(){return o})),t.d(a,"e",(function(){return l})),t.d(a,"x",(function(){return s})),t.d(a,"l",(function(){return d})),t.d(a,"v",(function(){return m})),t.d(a,"j",(function(){return u})),t.d(a,"C",(function(){return p})),t.d(a,"b",(function(){return f})),t.d(a,"A",(function(){return b})),t.d(a,"h",(function(){return g})),t.d(a,"i",(function(){return x})),t.d(a,"n",(function(){return h})),t.d(a,"s",(function(){return v})),t.d(a,"D",(function(){return j})),t.d(a,"z",(function(){return C})),t.d(a,"a",(function(){return O})),t.d(a,"g",(function(){return E})),t.d(a,"u",(function(){return _})),t.d(a,"m",(function(){return y})),t.d(a,"y",(function(){return R})),t.d(a,"c",(function(){return I})),t.d(a,"f",(function(){return F})),t.d(a,"o",(function(){return D})),t.d(a,"p",(function(){return z})),t.d(a,"q",(function(){return W})),t.d(a,"r",(function(){return M})),t.d(a,"k",(function(){return c}));var n=t(5),c=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var a=e[0],t=e[1],n=e[2];e=a+a+t+t+n+n}var c=(e=e.toUpperCase(e))[0]+e[1],r=e[2]+e[3],i=e[4]+e[5];return"".concat(parseInt(c,16),", ").concat(parseInt(r,16),", ").concat(parseInt(i,16))},r=["#9c27b0","#ab47bc","#8e24aa","#af2cc5","#e1bee7","#ba68c8"],i=["#fafafa"],o=["#ff9800","#ffa726","#fb8c00","#ffa21a","#fcf8e3","#faf2cc","#ffe0b2","#ffb74d"],l=["#f44336","#ef5350","#e53935","#f55a4e","#f2dede","#ebcccc","ef9a9a","#ef5350"],s=["#4caf50","#66bb6a","#43a047","#5cb860","#dff0d8","#d0e9c6","#a5d6a7","#66bb6a"],d=["#00acc1","#26c6da","#00acc1","#00d3ee","#d9edf7","#c4e3f3","#b2ebf2","#4dd0e1"],m=["#e91e63","#ec407a","#d81b60","#f8bbd0","#f06292"],u=["#999","#3C4858","#eee","#343434","#585858","#232323","#ddd","#6c757d","#333","#212121","#777","#D2D2D2","#AAA","#495057","#e5e5e5","#555","#f9f9f9","#ccc","#444","#f2f2f2","#89229b","#c0c1c2","#9a9a9a","#f5f5f5","#505050","#1f1f1f"],p="#FFF",f="#000",b="#55acee",g="#3b5998",x="#dd4b39",h="#0976b4",v="#cc2127",j="#e52d27",C="#35465c",O="#1769ff",E="#ea4c89",_="#ff4500",y="#125688",S=Object(n.a)(Object(n.a)({},{paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto",width:"100%"}),{},{"@media (min-width: 576px)":{maxWidth:"540px"},"@media (min-width: 768px)":{maxWidth:"720px"},"@media (min-width: 992px)":{maxWidth:"960px"},"@media (min-width: 1200px)":{maxWidth:"1140px"}}),w=("0 1px 4px 0 rgba(".concat(c(f),", 0.14)"),"rgba(".concat(c(f),", 0.87)"),"0 10px 30px -12px rgba(".concat(c(f),", 0.42), 0 4px 25px 0px rgba(").concat(c(f),", 0.12), 0 8px 10px -5px rgba(").concat(c(f),", 0.2)"),{boxShadow:"0 12px 20px -10px rgba(".concat(c(r[0]),", 0.28), 0 4px 20px 0px rgba(").concat(c(f),", 0.12), 0 7px 8px -5px rgba(").concat(c(r[0]),", 0.2)")}),N={boxShadow:"0 12px 20px -10px rgba(".concat(c(d[0]),", 0.28), 0 4px 20px 0px rgba(").concat(c(f),", 0.12), 0 7px 8px -5px rgba(").concat(c(d[0]),", 0.2)")},k={boxShadow:"0 12px 20px -10px rgba(".concat(c(s[0]),", 0.28), 0 4px 20px 0px rgba(").concat(c(f),", 0.12), 0 7px 8px -5px rgba(").concat(c(s[0]),", 0.2)")},A={boxShadow:"0 12px 20px -10px rgba(".concat(c(o[0]),", 0.28), 0 4px 20px 0px rgba(").concat(c(f),", 0.12), 0 7px 8px -5px rgba(").concat(c(o[0]),", 0.2)")},T={boxShadow:"0 12px 20px -10px rgba(".concat(c(l[0]),", 0.28), 0 4px 20px 0px rgba(").concat(c(f),", 0.12), 0 7px 8px -5px rgba(").concat(c(l[0]),", 0.2)")},L={boxShadow:"0 4px 20px 0px rgba(".concat(c(f),", 0.14), 0 7px 10px -5px rgba(").concat(c(m[0]),", 0.4)")},R=(Object(n.a)({color:p,background:"linear-gradient(60deg, ".concat(o[1],", ").concat(o[2],")")},A),Object(n.a)({color:p,background:"linear-gradient(60deg, ".concat(s[1],", ").concat(s[2],")")},k),Object(n.a)({color:p,background:"linear-gradient(60deg, ".concat(l[1],", ").concat(l[2],")")},T),Object(n.a)({color:p,background:"linear-gradient(60deg, ".concat(d[1],", ").concat(d[2],")")},N),Object(n.a)({color:p,background:"linear-gradient(60deg, ".concat(r[1],", ").concat(r[2],")")},w),Object(n.a)({color:p,background:"linear-gradient(60deg, ".concat(m[1],", ").concat(m[2],")")},L),Object(n.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid  ".concat(u[2]),height:"auto"},{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"}),"0 10px 20px -12px rgba(".concat(c(f),", 0.42), 0 3px 20px 0px rgba(").concat(c(f),", 0.12), 0 8px 10px -5px rgba(").concat(c(f),", 0.2)"),{color:u[1],textDecoration:"none",fontWeight:"700",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:'"Roboto Slab", "Times New Roman", serif'}),I={"&, & a":Object(n.a)(Object(n.a)({},R),{},{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})},D={background:p,position:"relative",zIndex:"3"},z={"@media (max-width: 576px)":{marginTop:"-30px"},"@media (max-width: 830px)":{marginLeft:"10px",marginRight:"10px"},margin:"-60px 30px 0px",borderRadius:"6px",boxShadow:"0 16px 24px 2px rgba(".concat(c(f),", 0.14), 0 6px 30px 5px rgba(").concat(c(f),", 0.12), 0 8px 10px -5px rgba(").concat(c(f),", 0.2)")},F=(u[3],"radial-gradient(ellipse at center,".concat(u[4]," 0,").concat(u[5]," 100%)"),{color:u[0]}),W={marginLeft:"auto"},M={marginRight:"auto"}},835:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(186),c=t(0),r=t.n(c),i=t(70),o=t(654),l=Object(i.a)({grid:{marginRight:"-15px",marginLeft:"-15px",width:"auto"}});function s(e){var a=e.children,t=e.className,c=Object(n.a)(e,["children","className"]),i=l();return r.a.createElement(o.a,Object.assign({container:!0},c,{className:"".concat(i.grid," ").concat(t)}),a)}s.defaultProps={className:""}},836:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(186),c=t(0),r=t.n(c),i=t(70),o=t(654),l=Object(i.a)({grid:{position:"relative",width:"100%",minHeight:"1px",paddingRight:"15px",paddingLeft:"15px"}});function s(e){var a=e.children,t=e.className,c=Object(n.a)(e,["children","className"]),i=l();return r.a.createElement(o.a,Object.assign({item:!0},c,{className:"".concat(i.grid," ").concat(t)}),a)}s.defaultProps={className:""}},876:function(e,a,t){e.exports=t.p+"static/media/door.29dd3710.mp3"},877:function(e,a,t){e.exports=t.p+"static/media/notify_2.bf74a725.mp3"},878:function(e,a,t){e.exports=t.p+"static/media/notify.b019027d.mp3"},883:function(e,a,t){"use strict";var n=t(0),c=t.n(n),r=t(120),i=t.n(r),o=t(5),l=t(8),s=t(653),d=t(693),m=t(101),u=t(240),p=t(759),f=t(186),b=t(2),g=t(70),x=t(694),h=t(58),v=t(241),j=t.n(v),C=Object(g.a)((function(e){return{root:{marginBottom:e.spacing(2),display:"flex",paddingRight:"10px",paddingLeft:"10px"},avatar:{height:32,width:32},image:{cursor:"pointer",height:"auto",maxWidth:"100%",width:380}}}));var O=function(e){var a=e.className,t=e.avatar,n=e.user,r=e.userNameFrom,i=e.idFrom,o=e.message,l=e.date,s=Object(f.a)(e,["className","avatar","user","userNameFrom","idFrom","message","date"]),m=C();return l||new Date,c.a.createElement("div",Object.assign({className:Object(b.a)(m.root,a)},s),c.a.createElement(d.a,{display:"flex",maxWidth:500,ml:n===i?"auto":0},c.a.createElement(x.a,{className:m.avatar,src:t}),c.a.createElement(d.a,{ml:2},c.a.createElement(d.a,{bgcolor:n===i?"secondary.main":"background.default",color:n===i?"secondary.contrastText":"text.primary",py:1,px:2,borderRadius:"borderRadius",boxShadow:1},c.a.createElement(h.a,{color:"inherit",variant:"h6"},r),c.a.createElement(d.a,{mt:1},c.a.createElement(h.a,{color:"inherit",variant:"body1",style:{whiteSpace:"pre-wrap",wordBreak:"break-all"}},o))),c.a.createElement(d.a,{mt:1,display:"flex",justifyContent:"flex-end"},c.a.createElement(h.a,{noWrap:!0,color:"textSecondary",variant:"caption"},j()(l).fromNow())))))},E=(t(19),t(122),t(107)),_=t(302),y=t(627),S=t(238),w=t(84),N=function(e){return c.a.createElement(w.a,Object.assign({},e,{viewBox:"0 0 50 50"}),c.a.createElement("path",{d:"M 48.90625 0 C 48.773438 0.015625 48.648438 0.0585938 48.53125 0.125 L 0.53125 26.125 C 0.183594 26.3125 -0.0195313 26.6875 0.0117188 27.082031 C 0.046875 27.476563 0.3125 27.8125 0.6875 27.9375 L 14.3125 32.40625 L 13 45.90625 C 12.945313 46.34375 13.1875 46.765625 13.59375 46.941406 C 14 47.117188 14.472656 47 14.75 46.65625 L 23.34375 36.9375 L 36.3125 49.71875 C 36.566406 49.96875 36.933594 50.0625 37.277344 49.964844 C 37.621094 49.867188 37.882813 49.597656 37.96875 49.25 L 49.96875 1.25 C 50.058594 0.933594 49.980469 0.59375 49.769531 0.34375 C 49.554688 0.09375 49.234375 -0.0351563 48.90625 0 Z M 47.46875 2.9375 L 36.4375 47.0625 L 24.59375 35.375 L 41.8125 11.59375 C 42.191406 11.195313 42.179688 10.566406 41.78125 10.1875 C 41.382813 9.808594 40.753906 9.820313 40.375 10.21875 L 15.21875 30.59375 L 3.5 26.78125 Z M 35.78125 16.5 L 22.65625 34.71875 C 22.621094 34.757813 22.589844 34.800781 22.5625 34.84375 L 22.5 34.90625 C 22.476563 34.9375 22.457031 34.96875 22.4375 35 L 15.28125 43.03125 L 16.34375 32.21875 Z"}))},k=Object(g.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",alignItems:"center",padding:e.spacing(1,2)},divider:{width:1,height:24},fileInput:{display:"none"}}}));var A=function(e){var a=e.className,t=e.disabled,r=(e.thread,e.onAdd,e.eventWs,e.handleSend),i=Object(f.a)(e,["className","disabled","thread","onAdd","eventWs","handleSend"]),o=k(),m=Object(n.useState)(""),u=Object(l.a)(m,2),p=u[0],g=u[1],x=function(){g("")};return c.a.createElement("div",Object.assign({className:Object(b.a)(o.root,a)},i),c.a.createElement(E.a,{variant:"outlined",component:d.a,flexGrow:1,ml:2,p:1},c.a.createElement(_.a,{className:o.input,disableUnderline:!0,fullWidth:!0,value:p,onChange:function(e){e.persist(),g(e.target.value)},onKeyUp:function(e){13===e.keyCode&&r(p,x)},placeholder:"Leave a message"})),c.a.createElement(y.a,{title:"Send"},c.a.createElement("span",null,c.a.createElement(S.a,{color:"secondary",disabled:!p||t,onClick:function(){return r(p,x)}},c.a.createElement(N,{fontSize:"small"})))),c.a.createElement(s.a,{className:o.divider}))},T=t(189),L=t(7),R=i()((function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"column",backgroundColor:e.palette.background.dark}}})),I=function(e){var a=e.eventWs,t=e.idChat,r=e.idComponent,i=R(),f=Object(n.useRef)(null),b=Object(n.useState)(),g=Object(l.a)(b,2),x=g[0],h=g[1],v={url:"parametros/Mensaje/listarMensaje",params:{start:"0",limit:"10000",sort:"id_mensaje",dir:"asc",id_chat:t}},j=Object(T.a)(v),C=j.data,E=j.setData;Object(n.useEffect)((function(){console.log("data",C),C&&f.current.scrollToBottom(0)}),[C]),Object(n.useEffect)((function(){h(L.a.apiClient._authenticated.id_usuario),Object(m.d)({event:a,idComponent:r,handle:function(e){!function(e){console.log(e),E((function(a){if(a)return Object(o.a)(Object(o.a)({},a),{},{datos:a.datos.concat([{id_mensaje:Object(p.a)(),id_usuario_from:e.from.idUser,user_name_from:e.from.user,mensaje:e.mensaje}])})})),f.current.scrollToBottom(0)}(e)}})}),[]),Object(n.useEffect)((function(){return function(){console.log("desmontar"),Object(m.b)({idComponent:r,event:a})}}),[]);return c.a.createElement("div",{className:i.root},c.a.createElement(s.a,null),c.a.createElement(d.a,{flexGrow:1,p:2,ref:f,component:u.Scrollbars,options:{suppressScrollX:!0}},C&&C.datos.map((function(e){return c.a.createElement(O,{key:e.id_mensaje,user:x,userNameFrom:e.user_name_from,idFrom:e.id_usuario_from,message:e.mensaje,date:e.fecha_reg})}))),c.a.createElement(A,{eventWs:a,handleSend:function(e,n){""!==e&&(E((function(a){if(a)return Object(o.a)(Object(o.a)({},a),{},{datos:a.datos.concat([{id_mensaje:Object(p.a)(),id_usuario_from:x,user_name_from:L.a.apiClient._authenticated.nombre_usuario,mensaje:e}])})})),function(e,a){L.a.apiClient.doRequest({url:"parametros/Mensaje/insertarMensaje",params:{id_chat:t,mensaje:e}}).then((function(e){a()}))}(e,(function(){console.log("msg has sent")})),Object(m.c)({event:a,msg:e}),setTimeout((function(){f.current.scrollToBottom(0)}),100),n())}}))},D=i()((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",display:"flex",overflow:"hidden",position:"relative",width:"100%"}}}));a.a=function(e){e.table;var a=e.idTable,t=e.idTableDesc,n=e.typeChat,r=e.idChat,i=e.idComponent,o=D(),l="".concat(n,"_").concat(t,"_").concat(a,"_").concat(r);return c.a.createElement("div",{className:o.root},c.a.createElement(I,{eventWs:l,idChat:r,idComponent:i}))}},884:function(e,a,t){"use strict";t.d(a,"a",(function(){return U})),t.d(a,"b",(function(){return G}));var n=t(5),c=t(0),r=t.n(c),i=t(704),o=t(153),l=t(649),s=t(58),d=t(309),m=t(8),u=t(693),p=t(2),f=t(875),b=function(e){var a=e.years,t=e.months,n=e.days,c=e.hours,r=e.minutes,i=e.seconds,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l={nodiff:"",year:"a\xf1o",years:"a\xf1os",month:"mes",months:"meses",day:"dia",days:"dias",hour:"hora",hours:"horas",minute:"minuto",minutes:"minutos",second:"segundo",seconds:"segundos",delimiter:" "};function s(e,a){return e+" "+l[a+(1===e?"":"s")]}function d(e,a,t,n,c,r){var i=[];return e&&i.push(s(e,"year")),a&&i.push(s(a,"month")),t&&i.push(s(t,"day")),n&&i.push(s(n,"hour")),c&&i.push(s(c,"minute")),r&&!o&&i.push(s(r,"second")),i.join(l.delimiter)}return d(a,t,n,c,r,i)},g=(t(876),t(877)),x=t.n(g),h=t(878),v=t.n(h),j=Object(d.a)((function(e){return{timer:{padding:0,textAlign:"center",fontSize:"1rem"},small:{fontSize:"0.8rem"},large:{fontSize:"3.5rem"}}})),C=function(e){var a=e%3600;return{hours:Math.trunc(e/3600),minutes:Math.trunc(a/60),seconds:a%60}};function O(e){return e<10&&(e="0"+e),e}var E=function(e){var a,t=e.timer,n=e.time,c=e.size,i=e.type,o=void 0===i?"text":i,l=e.alarmInterval,s=void 0===l?null:l,d=j(),g=t?-1:1,h=r.a.useState(3600*(a=n).hours+60*a.minutes+a.seconds),E=Object(m.a)(h,2),_=E[0],y=E[1],S=r.a.useState(!0),w=Object(m.a)(S,2),N=w[0],k=w[1],A=Object(f.a)(x.a,{volume:1}),T=Object(m.a)(A,1)[0],L=Object(f.a)(v.a,{volume:1}),R=Object(m.a)(L,1)[0];return r.a.useEffect((function(){var e;return N?e=setInterval((function(){return y(_+g)}),1e3):N||0===_||clearInterval(e),0===_&&(T(),k(!1)),s&&_%s===0&&R(),function(){return clearInterval(e)}}),[_,N]),r.a.createElement(u.a,{className:Object(p.a)(d.timer,d[c])},"digital"===o&&r.a.createElement("label",null,function(e){var a=e.hours,t=e.minutes,n=e.seconds;return O(a)+":"+O(t)+":"+O(n)}(C(_))),"text"===o&&r.a.createElement("label",null,b(C(_))))},_=t(779),y=t(34),S=t(19),w=t(135),N=t(241),k=t.n(N);t(879),t(880);k.a.locale("es");var A=Object(d.a)((function(e){return{messageContent:{textAlign:"center",marginTop:"0.8rem",marginBottom:"0.8rem"},message:{fontSize:"1rem"},label:{fontSize:"0.6rem"}}})),T=function(e){var a=e.options,t=void 0===a?[]:a,n=e.data,c=void 0===n?{}:n,s=A(),d=Object(y.g)(),m=Object(S.b)();return r.a.createElement(i.a,{variant:"contained",color:"primary",fullWidth:!0},t.map((function(e){return r.a.createElement(o.a,{key:e.label,onClick:e.nextState?function(){return a=e.nextState,void m(Object(w.g)(c.id_cita,a,c.latitud_ubicacion,c.longitud_ubicacion));var a}:function(){return a=e.url,d.push(a+c.id_cita);var a},color:e.color||"primary",startIcon:r.a.createElement(l.a,null,e.icon),className:s.label},e.label)})))},L="si",R="cancelada",I="completada",D="confirmada",z="finalizada",F="iniciada",W="panico",M="programada",B="sin cita",P="solicitada",H={goToCita:{label:"IR A LA CITA",icon:"date_range",url:"/citas/detail/"},confirmCita:{label:"CONFIRMAR CITA",icon:"thumb_up_alt",color:"secondary",nextState:M},cancelCita:{label:"CANCELAR CITA",icon:"thumb_down_alt",nextState:"rechazada"},startCita:{label:"INICIAR CITA",icon:"date_range",nextState:F},panic:{label:"Activar Panico",icon:"campaign",nextState:W},endCita:{label:"Finalizar Cita",icon:"cancel",color:"secondary",nextState:z},error:{label:"FUE UN ERROR",color:"secondary",icon:"sentiment_very_satisfied",nextState:F},endPanic:{label:"Finalizar Cita",icon:"sentiment_dissatisfied",nextState:I},completeCita:{label:"Completar Cita",color:"secondary",icon:"check",nextState:I}},q=function(e){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.disponible,t=e.credito,n=e.credito_minimo,c=a===L,r=!(parseFloat(t)<parseFloat(n));return{disponible:a,stateCita:e.estado_cita,credito:t,credito_minimo:n,alias:e.nombre_dama,stateDama:c,creditValid:r}}(e),t=a.stateCita,c=a.alias,r=a.stateDama,i=a.creditValid,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.alias,t=e.fecha_cita,c=e.hora_cita,r=e.cliente_cita,i=e.fecha_hora_estado_cita,o="<b>".concat(Object(_.a)(a),"</b>"),l="<b>".concat(Object(_.a)(r),"</b>"),s=k()(t+" "+c,"YYYY-MM-DD HH:mm:ss"),d=s.preciseDiff(k()(),!0),m=k()().preciseDiff(k()(i),!0),u=(b(d,!0),{});return u.solicitadaCredit={actions:[H.cancelCita,H.confirmCita,H.goToCita],message:"".concat(o,", tiene solicitada una cita de ").concat(l,", sin confirmar para el \n      <b>").concat(s.format("dddd, LL [a las] LT"),"</b> \xbfQu\xe9 desea hacer?.")},u.solicitadaNoCredit={actions:null,message:"".concat(o,", tiene solicitada una cita de ").concat(l,", sin confirmar y no tiene credito suficiente para confirmarla. \n      Contactese con el administrador para recargar mas credito.")},u.programada={actions:[Object(n.a)(Object(n.a)({},H.cancelCita),{},{nextState:R}),Object(n.a)(Object(n.a)({},H.confirmCita),{},{nextState:D})],message:"".concat(o,", usted tiene una cita programada con ").concat(l,", dentro de: "),timer:{timer:!0,time:d}},u.confirmada={actions:[H.startCita],message:"".concat(o,", su cita con ").concat(l,", fue confirmada hace: "),timer:{timer:!1,time:m}},u.iniciada={actions:[H.panic,H.endCita],message:"".concat(o,", su cita con ").concat(l,", fue iniciada hace:"),timer:{timer:!1,time:m,size:"large",type:"digital",alarmInterval:120}},u.panico={actions:[H.error,H.endPanic],message:"".concat(o,", hemos recibido su solicitud de ayuda!!!")},u.finalizada={actions:[H.panic,H.completeCita],message:"".concat(o,", complete la cita con ").concat(l,", una vez que se encuentre segura.")},u.sinCitaCreditDama={actions:null,message:"".concat(o,", se encuentra disponible para recibir citas. \n      Por favor permanezca atenta a nuevas solicitudes y verifique que su ubicaci\xf3n es la correcta.")},u.sinCitaCreditNoDama={actions:null,message:"".concat(o,", no te encuentras disponible en este momento. \n      Ponte disponible para que mas clientes te puedan contactar.")},u.sinCitaNoCreditNoDama={actions:null,message:"".concat(o,", no tiene credito suficiente para estar disponible en la aplicaci\xf3n. \n      Contactese con el administrador para recargar mas credito")},u}(Object(n.a)(Object(n.a)({},e),{},{alias:c}));switch(t){case P:return i?o.solicitadaCredit:o.solicitadaNoCredit;case M:return o.programada;case D:return o.confirmada;case F:return o.iniciada;case W:return o.panico;case z:return o.finalizada;case B:return r&&i?o.sinCitaCreditDama:i&&!r?o.sinCitaCreditNoDama:o.sinCitaNoCreditNoDama;default:return{actions:null,message:"Sin datos, para una pr\xf3xima cita."}}},U=function(e){var a=e.data,t=void 0===a?{}:a,c=A(),i=q(Object(n.a)({},t)),o=i.actions,l=void 0===o?null:o,d=i.message,m=i.timer,u=void 0===m?null:m;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:c.messageContent},r.a.createElement(s.a,{variant:"caption",color:"textSecondary",className:c.message},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:d}}))),u&&r.a.createElement(E,{timer:u.timer,time:u.time,size:u.size,type:u.type,alarmInterval:u.alarmInterval}),l&&r.a.createElement(T,{options:l,data:t}))},G=function(e){var a=e.data,t=void 0===a?{}:a,c=q(Object(n.a)({},t)).actions,i=void 0===c?null:c;return r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(T,{options:i,data:t}))}}}]);
//# sourceMappingURL=6.2cc1c353.chunk.js.map