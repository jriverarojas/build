(this["webpackJsonppxp-ui"]=this["webpackJsonppxp-ui"]||[]).push([[26],{6707:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a(16),o=a(8),i=a(0),l=a.n(i),s=a(75),c=a.n(s),u=a(844),m=a.n(u),d=a(812),p=a.n(d),b=a(238),g=a(627),f=a(241),h=a.n(f),v=a(107),j=a(721),y=a(713),O=a(693),E=a(87),x=a(882),D=a(309),w=a(185),C=a(686),R=a(19),_=a(2),P=a(759),S=a(186),N=a(155),T=a(697);function F(e,t){var a=e.timeout,r=e.style,n=void 0===r?{}:r;return{duration:n.transitionDuration||"number"===typeof a?a:a[t.mode]||0,delay:n.transitionDelay}}var k=i.forwardRef((function(e,t){var a=e.children,o=e.classes,l=e.className,s=e.collapsedHeight,c=void 0===s?"0px":s,u=e.collapsedSize,m=void 0===u?"0px":u,d=e.component,p=void 0===d?"div":d,b=e.in,g=e.onEnter,f=e.onEntered,h=e.onEntering,v=e.onExit,j=e.onExiting,y=e.orientation,O=void 0===y?"vertical":y,E=e.style,x=e.timeout,D=void 0===x?300:x,C=e.TransitionComponent,R=void 0===C?N.a:C,P=Object(S.a)(e,["children","classes","className","collapsedHeight","collapsedSize","component","in","onEnter","onEntered","onEntering","onExit","onExiting","orientation","style","timeout","TransitionComponent"]),T=Object(w.a)(),k=i.useRef(),U=i.useRef(null),V=i.useRef(),z="0px"===c?m:c,I="number"===typeof z?"".concat(z,"px"):z,q="horizontal"===O,H=q?"width":"height";i.useEffect((function(){return function(){clearTimeout(k.current)}}),[]);return i.createElement(R,Object.assign({in:b,onEnter:function(e,t){U.current.style.position="absolute",e.style[H]=I,g&&g(e,t)},onEntered:function(e,t){e.style[H]="100%",f&&f(e,t)},onEntering:function(e,t){var a=U.current[q?"clientWidth":"clientHeight"];U.current.style.position="";var r=F({style:E,timeout:D},{mode:"enter"}).duration;if("auto"===D){var n=T.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(n,"ms"),V.current=n}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[H]="".concat(a,"px"),h&&h(e,t)},onExit:function(e){var t=U.current[q?"clientWidth":"clientHeight"];e.style[H]="".concat(t,"px"),v&&v(e)},onExiting:function(e){var t=U.current[q?"clientWidth":"clientHeight"],a=F({style:E,timeout:D},{mode:"exit"}).duration;if("auto"===D){var r=T.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),V.current=r}else e.style.transitionDuration="string"===typeof a?a:"".concat(a,"ms");e.style[H]=I,j&&j(e)},addEndListener:function(e,t){"auto"===D&&(k.current=setTimeout(t,V.current||0))},timeout:"auto"===D?null:D},P),(function(e,s){var c;return i.createElement(p,Object.assign({className:Object(_.a)(o.container,(c={},Object(n.a)(c,o.horizontal,q),Object(n.a)(c,o.entered,"entered"===e),Object(n.a)(c,o.hidden,"exited"===e&&!b&&"0px"===I),c),l),test:"prueba",style:Object(r.a)(Object(n.a)({},q?"minWidth":"minHeight",I),E),ref:t},s),i.createElement("div",{className:o.wrapper,ref:U},i.createElement("div",{className:Object(_.a)(o.wrapperInner,Object(n.a)({},o.horizontal,q))},a)))}))}));k.muiSupportAuto=!0;var U,V,z=Object(T.a)((function(e){return{container:{position:"relative",overflow:"hidden",height:0,transition:e.transitions.create("height"),"&$horizontal":{width:0,height:"auto",transition:e.transitions.create("width")}},horizontal:{},entered:{height:"auto",overflow:"visible","&$horizontal":{height:"initial",width:"100%"}},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%","&$horizontal":{width:"100%",height:"100%"}}}}),{name:"MuiCollapse"})(k),I=a(886),q=a(7),H=Object(D.a)((function(){return{root:{height:"100%",display:"flex"},rootColumn:{"flex-direction":"column"},rootRow:{"flex-direction":"row"},collapseVertical:{height:"calc(50% - 15px)"},collapseHorizontal:{width:"100%"},content:{flex:"1 1 auto",height:"100%",width:"100%",padding:10}}})),M=function(e){var t,a=e.master,r=e.detail,s=e.orientation,c=void 0===s?"horizontal":s,u=e.openDetail,m=e.onCloseDetail,d=void 0===m?void 0:m,p=e.forceMobileDetail,b=void 0!==p&&p,g=H(),f=Object(w.a)(),h=Object(C.a)(f.breakpoints.up("lg"),{defaultMatches:!0}),v=Object(i.useState)(!0),j=Object(o.a)(v,2),y=j[0],O=j[1],E=Object(i.useState)(!1),x=Object(o.a)(E,2),D=x[0],S=x[1],N=Object(i.useState)(Object(P.a)()),T=Object(o.a)(N,1)[0],F=Object(R.b)();return Object(i.useEffect)((function(){return q.a.listenEvent("detail_go_back",T,(function(e){e===T&&(F(Object(I.a)(!1)),d&&d())})),function(){q.a.unlistenEvent("detail_go_back",T)}}),[T,F,d]),Object(i.useEffect)((function(){void 0!==h&&(h&&!b?(S(!0),O(!0)):(S(u),F(Object(I.a)(u,T)),O(!u)))}),[h,b,u,F,T]),l.a.createElement("div",{className:Object(_.a)(g.root,(t={},Object(n.a)(t,g.rootColumn,"vertical"===c),Object(n.a)(t,g.rootRow,"horizontal"===c),t))},l.a.createElement(z,{className:g.collapseHorizontal,orientation:c,in:y},a),l.a.createElement(z,{className:g.collapseHorizontal,orientation:c,in:D},r))},L=q.a.config.backendVersion||"v1",A={segu:{user:{list:"v1"===L?"seguridad/Usuario/listarUsuario":"security/User/listUser",save:"v1"===L?"seguridad/Usuario/modificarUsuario":"security/updateUser"},person:{list:"v1"===L?"seguridad/Persona/listarPersona":"security/Person/listPerson",save:"v1"===L?"seguridad/modificarPersona":"security/updatePerson"},role:{list:"v1"===L?"seguridad/Rol/listarRol":"security/listPerson",save:"v1"===L?"seguridad/modificarPersona":"security/updatePerson"},userRole:{list:"v1"===L?"seguridad/UsuarioRol/listarUsuarioRol":"security/listPerson",save:"v1"===L?"seguridad/UsuarioRol/guardarUsuarioRol":"security/updatePerson",delete:"v1"===L?"seguridad/UsuarioRol/eliminarUsuarioRol":"security/updatePerson"}}},W=c.a.merge(A,q.a.config.pxpApi),G=a(58),Y=a(120),B=a.n(Y),$=a(761),J=a(694),K=a(790),Q="v1"===q.a.config.backendVersion,X={userId:Q?"id_usuario":"user_id",personId:Q?"id_persona":"person_id",person:Q?"id_persona":"person_id",name:Q?"nombre":"name",surname1:Q?"ap_paterno":"surname1",surname2:Q?"ap_materno":"surname2",completeName:Q?"desc_person":"complete_name",pCompleteName1:Q?"nombre_completo1":"complete_name1",pCompleteName2:Q?"nombre_completo2":"complete_name2",nationalId:Q?"ci":"national_id",email:"email",username:Q?"cuenta":"username",expireDate:Q?"fecha_caducidad":"expire_date",createdDate:Q?"fecha_reg":"created_date",modifiedDate:Q?"fecha_mod":"modified_date",autenticationType:Q?"autentificacion":"autentication_type",role:Q?"id_rol":"role_id",roleName:Q?"rol":"role",roleSystem:Q?"nombre":"system",userRole:Q?"id_usuario_rol":"user_role_id",resetPass:"reset_password"},Z=a(801),ee=a.n(Z),te=B()((function(e){return{root:{},avatar:{height:42,width:42,marginRight:e.spacing(1)}}})),ae=function(e){var t=e.row,a=te(),r=Object($.a)("segu").t;return l.a.createElement(O.a,{display:"flex",alignItems:"center"},l.a.createElement(J.a,{className:a.avatar,src:ee.a}),l.a.createElement("div",null,l.a.createElement(G.a,{variant:"body2",color:"inherit"},l.a.createElement("b",null,r("name"),": "),t[X.completeName]),l.a.createElement(K.a,{color:"success"},l.a.createElement("b",null,r("username"),": "),t[X.username]),l.a.createElement("br",null),l.a.createElement(K.a,{color:"success"},t[X.autenticationType])))},re=(U={},Object(n.a)(U,X.name,{type:"TextField",label:"user",filters:{pfiltro:"".concat(X.name,"#").concat(X.surname1,"#").concat(X.surname2,"#").concat(X.username),type:"string"},search:!0,renderColumn:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ae,{row:e}))}}),Object(n.a)(U,X.email,{type:"TextField",label:"email"}),Object(n.a)(U,X.expireDate,{type:"DatePicker",label:"expireDate"}),Object(n.a)(U,X.createdDate,{type:"DatePicker",label:"createdDate"}),U),ne=a(30),oe=(V={},Object(n.a)(V,X.person,{type:"AutoComplete",label:"person",store:{url:W.segu.person.list,params:{start:"0",limit:"10",sort:X.person,dir:"ASC"},parFilters:"".concat(X.pCompleteName1,"#").concat(X.nationalId),idDD:X.person,descDD:X.pCompleteName2,minChars:2},remote:!0,gridForm:{xs:12,sm:12},variant:"outlined",validate:{shape:ne.c().required("Required")},onChange:function(e){var t=e.value,a=e.dataValue,r=e.states;t?(r[X.name].setValue(a[X.name]),r[X.surname1].setValue(a[X.surname1]),r[X.surname2].setValue(a[X.surname2])):(r[X.name].setValue(""),r[X.surname1].setValue(""),r[X.surname2].setValue("")),console.log(a)},group:"groupPerson"}),Object(n.a)(V,X.name,{type:"TextField",label:"name",maxLength:255,gridForm:{xs:12,sm:4},variant:"outlined",validate:{shape:ne.c().required("Required")},group:"groupPerson"}),Object(n.a)(V,X.surname1,{type:"TextField",label:"surename1",initialValue:"",maxLength:255,gridForm:{xs:12,sm:4},variant:"outlined",validate:{shape:ne.c().required("Required")},group:"groupPerson"}),Object(n.a)(V,X.surname2,{type:"TextField",label:"surename2",initialValue:"",maxLength:255,gridForm:{xs:12,sm:4},variant:"outlined",group:"groupPerson"}),Object(n.a)(V,X.email,{type:"TextField",label:"email",initialValue:"",allowBlank:!1,maxLength:255,gridForm:{xs:12,sm:6},variant:"outlined",validate:{shape:ne.c().email().required("Required")},group:"groupPerson"}),Object(n.a)(V,X.username,{type:"TextField",label:"username",initialValue:"",allowBlank:!1,maxLength:255,gridForm:{xs:12,sm:6},variant:"outlined",validate:{shape:ne.c().min(5,"Must be at least 7 characters").max(20,"Must be at least than 20 characters").required("Required")},group:"groupUser"}),Object(n.a)(V,X.expireDate,{type:"DatePicker",label:"expireDate",format:"DD-MM-YYYY",group:"groupUser",validate:{shape:ne.a().min(new Date,"validatePastDate")}}),Object(n.a)(V,X.resetPass,{type:"Switch",label:"forgotPass",group:"groupUser"}),V),ie=function(e){var t=e.row,a=Object($.a)("segu_user").t;return l.a.createElement(O.a,{display:"flex",alignItems:"center"},l.a.createElement("div",null,l.a.createElement(G.a,{variant:"body2",color:"inherit"},l.a.createElement("b",null,a("role"),": "),t[X.roleName]),l.a.createElement(K.a,{color:"success"},l.a.createElement("b",null,a("system"),": "),t[X.roleSystem])))},le=Object(n.a)({},X.role,{type:"AutoComplete",label:"role",store:{url:W.segu.role.list,params:{start:"0",limit:"10",sort:X.roleName,dir:"ASC"},parFilters:"".concat(X.roleName,"#").concat(X.roleSystem),idDD:X.role,descDD:X.roleName,minChars:2},remote:!0,gridForm:{xs:12,sm:12},variant:"outlined",validate:{shape:ne.c().required("Required")},renderColumn:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(ie,{row:e}))}}),se=a(773),ce=function(e){var t=e.children,a=e.value,r=e.index;return l.a.createElement("div",{role:"tabpanel",hidden:a!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},l.a.createElement(O.a,{p:0,pt:1},t))},ue=function(e){var t=e.handleClick;return l.a.createElement(g.a,{title:"new","aria-label":"new"},l.a.createElement(b.a,{"aria-label":"new",onClick:t},l.a.createElement(p.a,null)))};t.default=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],u=Object(i.useState)(0),d=Object(o.a)(u,2),p=d[0],b=d[1],g=Object(i.useState)(0),f=Object(o.a)(g,2),O=f[0],D=f[1],w=Object(i.useRef)(),C=Object(i.useRef)(),R=Object(i.useRef)(),_=Object(i.useRef)(),P=Object(i.useRef)(),S=Object(i.useState)({nameForm:"assignrole",nameTable:"assignedroles",columns:le,getDataTable:{url:W.segu.userRole.list,load:!1,params:{start:"0",limit:"10",sort:X.userRole,dir:"desc",contenedor:"docs-per"}},idStore:X.userRole,buttonDel:!1,buttonNew:!0,buttonEdit:!1,actionsTableCell:{buttonDel:!0,buttonEdit:!1},onSubmit:{url:W.segu.userRole.save},urlDelete:W.segu.userRole.delete}),N=Object(o.a)(S,2),T=N[0],F=N[1];Object(i.useEffect)((function(){!a&&P&&setTimeout((function(){P.current.scrollTop(O)}),500)}),[a,P]);var k={nameForm:"User Form",columns:oe,onSubmit:{url:W.segu.user.save},groups:{groupPerson:{titleGroup:"Persona",gridGroup:{xs:12,sm:6}},groupUser:{titleGroup:"Usuario",gridGroup:{xs:12,sm:6}}}},U={nameForm:"Users",columns:re,getDataTable:{url:W.segu.user.list,params:{start:"0",limit:"10",sort:X.userId,dir:"desc",contenedor:"docs-per"}},idStore:X.userId,buttonDel:!1,buttonNew:!1,buttonEdit:!1,buttonsToolbar:{buttonAdd:{onClick:function(){b(0),s(!0),w.current.states[X.person].setDisabled(!1),Object.entries(w.current.states).forEach((function(e){Object(o.a)(e,2)[1].reset()})),D(P.current.getScrollTop()),P.current.scrollTop(0),P.current.scrollLeft(0)},button:ue}},actionsTableCell:{buttonDel:!1,buttonEdit:!1,icon:l.a.createElement(m.a,null),onClick:function(e){var t;w.current.states[X.name].setValue(e[X.name]),w.current.states[X.surname1].setValue(e[X.surname1]),w.current.states[X.surname2].setValue(e[X.surname2]),w.current.states[X.person].setValue((t={},Object(n.a)(t,X.person,e[X.person]),Object(n.a)(t,X.pCompleteName2,e[X.completeName]),t)),w.current.states[X.email].setValue(e[X.email]),w.current.states[X.username].setValue(e[X.username]),w.current.states[X.person].setDisabled(!0),w.current.states[X.expireDate].setValue(h()(e[X.expireDate],q.a.config.date.backendGetFormat).toDate()),F(c.a.merge(T,{onSubmit:{extraParams:Object(n.a)({},X.userId,e[X.userId])}})),(0,_.current.jsonStore.set)((function(t){return Object(r.a)(Object(r.a)({},t),{},{params:Object(r.a)(Object(r.a)({},t.params),{},Object(n.a)({},X.userId,e[X.userId])),load:!0})})),b(0),s(!0),D(P.current.getScrollTop()),P.current.scrollTop(0),P.current.scrollLeft(0)}}};return l.a.createElement(se.a,{scrollBarRef:P},l.a.createElement(M,{master:l.a.createElement(x.a,{dataConfig:U,ref:C}),detail:l.a.createElement("div",null,l.a.createElement(v.a,{square:!0},l.a.createElement(j.a,{value:p,onChange:function(e,t){b(t)},indicatorColor:"primary",textColor:"primary"},l.a.createElement(y.a,{label:"User"}),l.a.createElement(y.a,{label:"Roles"}))),l.a.createElement(ce,{value:p,index:0},l.a.createElement(E.a,{data:k,ref:w})),l.a.createElement(ce,{value:p,index:1},l.a.createElement(x.a,{dataConfig:T,ref:_,refForm:R}))),orientation:"horizontal",openDetail:a,onCloseDetail:function(){s(!1),C.current.handleRefresh()},forceMobileDetail:!0}))}},790:function(e,t,a){"use strict";var r=a(16),n=a(186),o=a(0),i=a.n(o),l=a(2),s=a(70),c=a(17),u=Object(s.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(c.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(c.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(c.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(c.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(c.c)(e.palette.warning.main,.08)}}}));function m(e){var t=e.className,a=e.color,o=e.children,s=(e.style,Object(n.a)(e,["className","color","children","style"])),c=u();return i.a.createElement("span",Object.assign({className:Object(l.a)(c.root,Object(r.a)({},c[a],a),t)},s),o)}m.defaultProps={className:"",color:"secondary"},t.a=m},801:function(e,t,a){e.exports=a.p+"static/media/avatar.d6f6f42b.jpeg"},844:function(e,t,a){"use strict";var r=a(27);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),o=(0,r(a(54)).default)(n.default.createElement("path",{transform:"scale(1.2, 1.2)",d:"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"}),"Settings");t.default=o}}]);
//# sourceMappingURL=26.04c9a27d.chunk.js.map