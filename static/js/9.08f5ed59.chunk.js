(this["webpackJsonppxp-ui"]=this["webpackJsonppxp-ui"]||[]).push([[9],{6708:function(e,a,t){"use strict";t.r(a);var n=t(5),r=t(8),i=t(0),c=t.n(i),o=t(654),l=t(681),s=t(693),m=t(649),d=t(464),u=t(650),p=t(703),f=t(702),b=t(714),g=t(631),h=t(470),E=t(238),v=t(298),y=t(58),O=t(679),x=t(695),j=t(142),C=t(240),w=t(759),S=t(101),_=t(309),k=t(16),N=t(947),F=Object(_.a)((function(e){return{root:{position:"relative !important",width:"100%",height:"100%"},mapContainer:{position:"relative !important",width:"100%",height:"100%",minHeight:"450px"},markerFixed:{left:"50%",marginLeft:-24,marginTop:-48,position:"absolute",top:"50%",zIndex:1},marker:{height:48,width:48}}})),A=Object(N.GoogleApiWrapper)({apiKey:"AIzaSyB_AyQ023yUEar_t9jpGXhPAWuj_Dfar7s"})((function(e){var a=e.google,t=e.changePosition,n=e.lat,i=void 0===n?0:n,o=e.lng,l=void 0===o?0:o,m=F(),d=c.a.useState({lat:parseFloat(i),lng:parseFloat(l)}),u=Object(r.a)(d,1)[0];return c.a.createElement(s.a,{className:m.root},c.a.createElement("div",{className:m.markerFixed},c.a.createElement("img",{className:m.marker,src:"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png"})),c.a.createElement(N.Map,Object(k.a)({google:a,zoom:16,className:m.mapContainer,initialCenter:u,onDragend:function(e,a){console.log("drag end",e,a)},fullscreenControl:!1,mapTypeControl:!1,streetViewControl:!1},"onDragend",(function(e,a){t({lat:a.getCenter().lat(),lng:a.getCenter().lng()})})),c.a.createElement(N.InfoWindow,{onClose:function(){console.log("info")},visible:!1},c.a.createElement("div",null,c.a.createElement("h1",null,"Demo")))))})),D=t(884),T=t(107),I=t(2),z=Object(_.a)((function(e){return{root:{flexGrow:1},panel:{boxShadow:e.shadows[8],backgroundColor:e.palette.background.dark,borderRadius:"5px",padding:e.spacing(2)},panelPrimary:{backgroundColor:e.palette.primary.dark,border:"1px solid ".concat(e.palette.primary.light),color:"white"},panelSecondary:{backgroundColor:e.palette.secondary.dark,border:"1px solid ".concat(e.palette.secondary.light),color:"white"},title:{fontSize:"5vw"}}})),R=function(e){var a=e.data,t=void 0===a?{}:a,n=z();return c.a.createElement(o.a,{container:!0,className:n.root,spacing:1,justify:"space-between"},c.a.createElement(o.a,{item:!0,xs:6},c.a.createElement(T.a,{className:Object(I.a)(n.panel,n.panelPrimary)},c.a.createElement(o.a,{container:!0,justify:"space-between",alignItems:"center"},c.a.createElement(o.a,{item:!0},c.a.createElement(y.a,{variant:"h6"},"CREDITO"),c.a.createElement(y.a,{variant:"h2",className:n.title},Math.trunc(t.credito)||"0"," Bs")),c.a.createElement(o.a,{item:!0,xs:2},c.a.createElement(m.a,{fontSize:"large"},"attach_money"))))),c.a.createElement(o.a,{item:!0,xs:6},c.a.createElement(T.a,{className:Object(I.a)(n.panel,n.panelSecondary)},c.a.createElement(o.a,{container:!0,justify:"space-between",alignItems:"center"},c.a.createElement(o.a,{item:!0},c.a.createElement(y.a,{variant:"h6"},"ESTADO"),c.a.createElement(y.a,{variant:"h2",className:n.title},t.estado_cita?t.estado_cita:"si"===t.disponible?"Disponible":"No disponible")),c.a.createElement(o.a,{item:!0,xs:2},c.a.createElement(m.a,{fontSize:"large"},"info"))))))},M=t(19),P=t(135),B=t(174),L=t(809),U=(t(808),function(){var e=c.a.useState(S.a._authenticated),a=(Object(r.a)(e,1)[0],{showActions:!1,showDetail:!1,showSearch:!1,showFilter:!1,filters:[{value:"ALTO SECRETO",icon:"alarm_on",label:"SECRETO",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRU4KjHWiZ9CBeljoaUXdJrD1dXifFR24z237Si_JItPV_N_U_N&usqp=CAU"},{value:"rene",icon:"add",label:"RENE(S)",image:"https://cdn4.iconfinder.com/data/icons/pretty_office_3/256/Accept-Male-User.png"}],columns:{primary:{field:"descripcion"},secondary:{field:"titulo"},terciary:{field:"fecha",text:"Fecha",level:3}},getDataTable:{url:"citas/Cita/listarAlarmaCita",params:{limit:10,sort:"fecha",dir:"DESC"}}});return c.a.createElement("div",{style:{height:"450px",display:"flex",flexGrow:1}},c.a.createElement(L.a,{config:a}))}),W=Object(_.a)((function(e){return{root:{padding:e.spacing(1)},title:{fontWeight:600},card:{boxShadow:e.shadows[12]},message:{fontSize:"1rem",textAlign:"center",marginTop:0,marginBottom:"1rem"},content:{padding:"6px","&:last-child":{paddingBottom:"6px"}},error:{margin:"0.3rem",textAlign:"center"},progress:{color:j.a[100],position:"absolute",top:0,left:12,zIndex:1}}})),V=(Object(w.a)(),function(e){var a=e.title,t=e.children,n=W();return c.a.createElement(o.a,{item:!0,xs:12},c.a.createElement(y.a,{variant:"caption",color:"primary",className:n.title},a.toUpperCase()),c.a.createElement(O.a,{className:n.card},t))});a.default=function(){var e=W(),a=Object(M.b)(),t=Object(M.c)((function(e){return e.citas})),y=t.dataDama,O=t.updateDataDama,j=Object(M.c)((function(e){return e.auth})),w=Object(M.c)((function(e){return e.notify})),S=("user_notifications__".concat(j.currentUser.id_usuario),Object(i.useRef)(null)),_=Object(i.useState)(!1),k=Object(r.a)(_,2),N=k[0],F=k[1],T=Object(i.useState)(!1),I=Object(r.a)(T,2),z=I[0],L=I[1],G=Object(i.useState)(!1),q=Object(r.a)(G,2),H=q[0],X=q[1],J=Object(i.useState)(!1),K=Object(r.a)(J,2),Y=K[0],Q=K[1];return Object(i.useEffect)((function(){(H||Y)&&setTimeout((function(){S.current.scrollToBottom(0)}),300)}),[H,Y]),Object(i.useEffect)((function(){y.loading||y.error||(L(!1),F("si"===y.disponible))}),[y]),Object(i.useEffect)((function(){console.log("[ACTIVE EVENT]",O),O&&a(Object(P.f)())}),[O]),Object(i.useEffect)((function(){console.log("[ACTIVE NEW]",w.newNotify),w.newNotify&&(a(Object(P.f)()),a(Object(B.d)()))}),[w]),c.a.createElement(C.Scrollbars,{ref:S,autoHide:!0,renderView:function(e){return c.a.createElement("div",Object.assign({},e,{style:Object(n.a)(Object(n.a)({},e.style),{},{overflowX:"hidden",marginBottom:0})}))}},c.a.createElement("div",{className:e.root},c.a.createElement(o.a,{container:!0,spacing:2},c.a.createElement(V,{title:"Informaci\xf3n"},c.a.createElement(l.a,{className:e.content},c.a.createElement(R,{data:y}),c.a.createElement(D.a,{data:y}),y.error&&c.a.createElement(s.a,{className:e.error},c.a.createElement(x.a,{icon:c.a.createElement(m.a,null,"close"),label:y.error,color:"primary",variant:"outlined"})))),c.a.createElement(V,{title:"Disponibilidad"},c.a.createElement(d.a,{disablePadding:!0},c.a.createElement(u.a,null,c.a.createElement(p.a,null,c.a.createElement(m.a,{color:"secondary"},"check_circle")),c.a.createElement(f.a,{primary:"Disponible",secondary:"Sus clientes, pueden ver esta informaci\xf3n"}),c.a.createElement(b.a,null,c.a.createElement(g.a,{edge:"end",checked:N,onChange:function(){L(!0),a(Object(P.h)(y.id_dama))},inputProps:{"aria-labelledby":"switch-list-label-bluetooth"}}),z&&c.a.createElement(h.a,{size:36,color:"secondary",className:e.progress}))))),c.a.createElement(V,{title:"Ubicaci\xf3n"},c.a.createElement(d.a,{disablePadding:!0},c.a.createElement(u.a,null,c.a.createElement(p.a,null,c.a.createElement(m.a,{color:"secondary"},"location_on")),c.a.createElement(f.a,{primary:"Ubicaci\xf3n Actual",secondary:"Mueva el mapa, para cambiar su ubicaci\xf3n"}),c.a.createElement(b.a,null,c.a.createElement(E.a,{onClick:function(){X(!H),Q(!1)}},c.a.createElement(m.a,null,H?"keyboard_arrow_up":"keyboard_arrow_down"))))),c.a.createElement(v.a,{in:H,timeout:"auto"},y.latitud_ubicacion&&c.a.createElement(A,{changePosition:function(e){var t=e.lat,n=e.lng;a(Object(P.i)(y.id_dama,t,n))},lat:y.latitud_ubicacion,lng:y.longitud_ubicacion}))),c.a.createElement(V,{title:"Notificaciones"},c.a.createElement(d.a,{disablePadding:!0},c.a.createElement(u.a,null,c.a.createElement(p.a,null,c.a.createElement(m.a,{color:"secondary"},"notifications_none")),c.a.createElement(f.a,{primary:"\xdaltimas Notificaciones",secondary:"Inforaci\xf3n sobre nuevas citas, creditos, d\xe9bitos"}),c.a.createElement(b.a,null,c.a.createElement(E.a,{onClick:function(){Q(!Y),X(!1)}},c.a.createElement(m.a,null,Y?"keyboard_arrow_up":"keyboard_arrow_down"))))),c.a.createElement(v.a,{in:Y,timeout:"auto"},c.a.createElement(U,null))))))}},779:function(e,a,t){"use strict";t.d(a,"b",(function(){return n})),t.d(a,"a",(function(){return r}));var n=function(e){var a=e.nameFile,t=e.folder,n=e.extension;console.log("http");var r="";return a&&(r=(r=t).split("./../../../")[1],r="".concat("http","://").concat("pxp.vouz.me","/").concat(r).concat(a,".").concat(n)),r},r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",t=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()};return e?e.split(a).reduce((function(e,n){return e+t(n)+a}),""):null}},808:function(e,a,t){"use strict";var n=t(5),r=t(8),i=t(0),c=t.n(i),o=t(693),l=t(236),s=t(721),m=t(713),d=t(303),u=t(238),p=t(649),f=t(309),b=Object(f.a)((function(){return{root:{display:"flex",flexDirection:"row",alignContent:"center"},container:{width:"calc( 100% - 48px)"},tabs:{},input:{width:"calc( 100% - 48px)",paddingLeft:"10px !important"}}}));a.a=function(e){var a=e.filters,t=e.handleFilter,f=b(),g=Object(i.useState)(0),h=Object(r.a)(g,2),E=h[0],v=h[1],y=Object(i.useState)(!1),O=Object(r.a)(y,2),x=O[0],j=O[1];return Object(i.useEffect)((function(){t(a[E],!0)}),[E]),Object(i.useEffect)((function(){x||t(a[E])}),[x]),c.a.createElement(o.a,{className:f.root},!x&&c.a.createElement(l.a,{in:!x,timeout:700,className:f.container},c.a.createElement(s.a,{value:E,onChange:function(e,a){return v(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"Filters",className:f.tabs},a.filter((function(e){return!e.search})).map((function(e){return c.a.createElement(m.a,{key:e.label,label:e.label})})))),x&&c.a.createElement(l.a,{in:x,timeout:700,className:f.input},c.a.createElement(d.a,{className:f.input,placeholder:"Search",autoFocus:!0,inputProps:{"aria-label":"search"},onKeyUp:function(e){var r=a.filter((function(e){return e.search}))[0]||null;r=Object(n.a)(Object(n.a)({},r),{},{value:e.target.value}),t(r||{field:"*",value:e.target.value,criteria:"contains",search:!0})}})),c.a.createElement(u.a,{onClick:function(){j(!x)}},c.a.createElement(p.a,null,x?"close":"search")))}},809:function(e,a,t){"use strict";var n=t(35),r=t.n(n),i=t(65),c=t(5),o=t(8),l=t(0),s=t.n(l),m=t(16),d=t(188),u=t(70),p=t(464),f=t(650),b=t(700),g=t(714),h=t(702),E=t(238),v=t(654),y=t(58),O=t(869),x=t(653),j=t(652),C=t(693),w=t(298),S=t(868),_=t.n(S),k=t(953),N=function(e){var a=e.length,t=void 0===a?4:a,n=Array.from({length:t},(function(e,a){return a}));return s.a.createElement(s.a.Fragment,null,n.map((function(e,a){return s.a.createElement("div",{key:a},s.a.createElement(f.a,null,s.a.createElement(b.a,null,s.a.createElement(k.a,{variant:"circle",width:32,height:32})),s.a.createElement(h.a,{primary:s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{display:"flex",flexWrap:"wrap"},s.a.createElement(C.a,{flexGrow:1},s.a.createElement(k.a,{variant:"text",width:"80%",animation:"wave"})),s.a.createElement(C.a,null,s.a.createElement(k.a,{variant:"rect",width:100,height:10,animation:"wave"})))),secondary:s.a.createElement(k.a,{variant:"text",width:"30%",animation:"wave"})}),s.a.createElement(g.a,null,s.a.createElement(k.a,{variant:"circle",width:32,height:32,animation:"wave"}))),s.a.createElement(x.a,null))})))},F=t(53),A=t(715),D=t(677),T=t(791),I=t.n(T),z=t(303),R=t(297),M=Object(u.a)((function(e){return{fab:{position:"fixed",top:e.spacing(12),right:e.spacing(2),float:"right",zIndex:20},inputSearch:{position:"fixed",top:e.spacing(12.7),right:e.spacing(4),float:"right",zIndex:10,border:"1px solid "+e.palette.secondary.main,background:"".concat(e.palette.background.paper),borderRadius:"20px",padding:"10px",paddingRight:"45px",paddingTop:"5px",paddingBottom:"5px",width:"300px"},slide:{}}})),P=function(e){var a=e.handleSearch,t=Object(F.a)(),n=M(),r={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},i=s.a.useState(!1),c=Object(o.a)(i,2),l=c[0],m=c[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(A.a,{key:"inherit",in:!0,timeout:r,style:{transitionDelay:"".concat(r.exit,"ms")},unmountOnExit:!0},s.a.createElement(D.a,{"aria-label":"Search",color:"secondary",variant:"round",className:n.fab,onClick:function(){return m((function(e){return!e}))}},s.a.createElement(I.a,null))),s.a.createElement(R.a,{in:l,timeout:300,direction:"left",mountOnEnter:!0,unmountOnExit:!0},s.a.createElement(z.a,{type:"text",className:n.inputSearch,onChange:function(e){return a(e.target.value)}})))},B=t(713),L=t(721),U=t(649),W=t(626),V=Object(u.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[8]},tabOption:{minWidth:"100px"},circle:{textAlign:"center",borderRadius:"50%",width:"60px",height:"60px",border:"2px solid "+e.palette.action.disabledBackground,position:"relative"},icon:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)",fontSize:"3rem"},image:{position:"absolute",top:"50%",left:"50%",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"57px",height:"57px",borderRadius:"50%"},container:{display:"flex"},active:{minWidth:"100px","& > span > div ":{border:"2px solid "+e.palette.secondary.main}}}})),G=function(e){var a=e.filters,t=e.handleFilter,n=V(),r=s.a.useState(0),i=Object(o.a)(r,2),c=i[0],l=i[1],m=[{value:"",icon:"format_list_bulleted",label:"Todo"}].concat(Object(d.a)(a));return s.a.createElement(W.a,{position:"static",color:"default",className:n.root},s.a.createElement(L.a,{variant:"scrollable",scrollButtons:"on",value:c,onChange:function(e,a){l(a),t(m[a])},textColor:"secondary"},m.map((function(e,a){return s.a.createElement(B.a,{key:a,value:a,className:c===a?n.active:n.tabOption,label:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:n.circle},e.image&&s.a.createElement("img",{src:e.image,className:n.image,alt:"filter option"}),e.icon&&!e.image&&s.a.createElement(U.a,{className:n.icon},e.icon)),s.a.createElement("span",null,e.label))})}))))},q=t(240),H=t(75),X=t.n(H),J={showActions:!0,showDetail:!0,showSearch:!1,showFilter:!0,filters:[],columns:{primary:{field:"num_tramite",renderOption:function(e){return s.a.createElement("div",null,"Render")}},secondary:{field:"desc_funcionario",renderOption:function(e){return s.a.createElement("div",null,"Render")}},terciary:{field:"importe_total",text:"Total",level:3,renderOption:function(e){return s.a.createElement("div",null,"Render")}},detail:[{field:"rowField",text:"rowFieldText"}]}},K=Object(u.a)((function(e){return{root:{position:"relative",width:"100%"},title:{margin:e.spacing(4,0,2)},drawer:{backgroundColor:e.palette.grey[800],color:e.palette.common.white},list:{marginTop:"8px",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[8],paddingTop:0,paddingBottom:0},inline:{display:"inline"},detail:{margin:0,backgroundColor:e.palette.background.dark},detailTitle:{backgroundColor:e.palette.background.dark,color:e.palette.text.textPrimary,padding:"5px",textAlign:"right",border:"1px solid "+e.palette.action.disabledBackground},detailText:{backgroundColor:e.palette.background.paper,padding:"5px",border:"1px solid "+e.palette.action.disabledBackground}}})),Y=[{icon:s.a.createElement(O.Edit,null),name:"Editar",action:function(){return alert("ok")}},{icon:s.a.createElement(O.Delete,null),name:"Eliminar",action:function(){return alert("ok")}}],Q=function(e){var a,t=e.data,n=void 0===t?[]:t,r=e.actions,i=void 0===r?[]:r,l=e.config,u=void 0===l?{}:l,S=e.FilterComponent,k=void 0===S?G:S,F=e.heightFilter,A=void 0===F?96:F,D=Object(c.a)(Object(c.a)({},J),u),T=[].concat(Y,Object(d.a)(i)),I=D.columns||{},z=K(),R=s.a.useState({top:!1,left:!1,bottom:!1,right:!1}),M=Object(o.a)(R,2),B=M[0],L=M[1],U=function(e,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&L(Object(c.a)(Object(c.a)({},B),{},Object(m.a)({},e,a)))}},W=X.a.debounce((function(e){u.onSearch(e)}),500),V=X.a.debounce((function(e){u.onSearch(e)}),500);return s.a.createElement("div",{className:z.root},D.showSearch&&s.a.createElement(P,{handleSearch:W}),D.showFilter&&s.a.createElement(k,{filters:D.filters,handleFilter:V}),s.a.createElement(q.Scrollbars,{autoHide:!0,renderView:function(e){return s.a.createElement("div",Object.assign({},e,{style:Object(c.a)(Object(c.a)({},e.style),{},{overflowX:"hidden",marginBottom:0})}))},style:{height:"calc(100% - ".concat(D.showFilter?A:0,"px)")}},s.a.createElement(p.a,{dense:!0,className:z.list},s.a.createElement(x.a,null),n&&0===n.length&&D.infiniteScroll.hasMore&&s.a.createElement(N,{length:5}),n&&0===n.length&&!D.infiniteScroll.hasMore&&s.a.createElement("h3",null,"No items to show..."),s.a.createElement(_.a,{useWindow:!1,pageStart:0,initialLoad:!1,getScrollParent:function(){return u.infiniteScroll.parent},loadMore:u.infiniteScroll.onLoadMore,hasMore:u.infiniteScroll.hasMore,loader:s.a.createElement(N,{length:1,key:0})},n&&n.length>0&&n.map((function(e,a){return s.a.createElement("div",{key:a},D.columns.render&&D.columns.render(e),!D.columns.render&&s.a.createElement(f.a,{button:!0,onClick:function(){return function(e,a){D.showDetail&&L(Object(c.a)(Object(c.a)({},B),{},Object(m.a)({},e,!B[e]))),D.handleOnClick&&D.handleOnClick(a)}(a,e)}},D.showDetail&&s.a.createElement(b.a,null,B[a]?s.a.createElement(O.ExpandLess,null):s.a.createElement(O.ExpandMore,null)),s.a.createElement(h.a,{primary:s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{display:"flex",flexWrap:"wrap"},s.a.createElement(C.a,{flexGrow:1},I.primary.renderOption&&I.primary.renderOption(e),!I.primary.renderOption&&s.a.createElement(y.a,{component:"span",variant:"subtitle1",className:z.inline,color:"inherit"},e[I.primary.field])),s.a.createElement(C.a,null,I.terciary.renderOption&&I.terciary.renderOption(e),!I.terciary.renderOption&&s.a.createElement(y.a,{component:"span",variant:"overline",color:"secondary"},s.a.createElement("b",null,I.terciary.text,":\xa0"),e[I.terciary.field])))),secondary:s.a.createElement(s.a.Fragment,null,I.secondary.renderOption&&I.secondary.renderOption(e),!I.secondary.renderOption&&s.a.createElement(y.a,{component:"span",variant:"caption",className:z.inline,color:"primary"},e[I.secondary.field]))}),D.showActions&&s.a.createElement(g.a,null,s.a.createElement(E.a,{edge:"end","aria-label":"options",color:"primary",onClick:U("bottom",!0)},s.a.createElement(O.MoreVert,null)))),s.a.createElement(w.a,{in:B[a],timeout:"auto",unmountOnExit:!0},s.a.createElement(v.a,{container:!0,spacing:0,className:z.detail},!I.detailRender&&I.detail&&I.detail.map((function(a,t){return s.a.createElement(s.a.Fragment,{key:t},s.a.createElement(v.a,{item:!0,xs:4,sm:3,md:2,xl:1,className:z.detailTitle},s.a.createElement("b",null,a.text)),s.a.createElement(v.a,{item:!0,xs:8,sm:9,md:4,xl:3,className:z.detailText},e[a.field]))})),I.detailRender&&I.detailRender(e))),s.a.createElement(x.a,null))}))))),s.a.createElement(j.a,{anchor:"bottom",open:B.bottom,onClose:U("bottom",!1)},(a="bottom",s.a.createElement("div",{className:z.fullList,role:"presentation",onClick:U(a,!1),onKeyDown:U(a,!1)},s.a.createElement(p.a,{className:z.drawer,dense:!0},T&&T.map((function(e,a){return s.a.createElement(f.a,{button:!0,key:e.name,onClick:e.action},s.a.createElement(b.a,{color:"danger"},e.icon),s.a.createElement(h.a,{primary:e.name}))})))))))},Z=t(7);a.a=function(e){var a=e.config,t=e.FilterComponent,n=e.heightFilter,m=Object(l.useState)({data:[],hasMore:!0,limit:12,total:9999}),d=Object(o.a)(m,2),u=d[0],p=d[1],f=a.showFilter?-1:0,b=Object(l.useState)(f),g=Object(o.a)(b,2),h=g[0],E=g[1],v=Object(l.useState)(""),y=Object(o.a)(v,2),O=y[0],x=y[1],j={hasMore:u.hasMore,parent:document.getElementById("content"),onLoadMore:function(e){E(e*u.limit)}};a.infiniteScroll=j,a.onSearch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a={};console.log("FILTER: ",e),e&&!0===e.search?(a.bottom_filter_fields=[e.field].join(),a.bottom_filter_value=e.value):e&&(a[e.field]=e.value),p((function(e){return Object(c.a)(Object(c.a)({},e),{},{total:9999,hasMore:!0,data:[],filter:a})})),-1===h?E(0):x(e.value)};var C=a.getDataTable.params||{},w=function(){var e=Object(i.a)(r.a.mark((function e(){var t,n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.total>u.data.length)){e.next=7;break}return e.next=3,Z.a.apiClient.doRequest({url:a.getDataTable.url,params:Object(c.a)({start:h,limit:C.limit||50,sort:C.sort||"",dir:C.dir||"ASC",contenedor:C.contenedor||""},u.filter)});case 3:(t=e.sent)&&t.datos&&(t.datos.forEach((function(e){return u.data.push(e)})),n=u.data.length,i=!!(n<parseInt(t.total)&&"0"!==t.total),p((function(e){return Object(c.a)(Object(c.a)({},e),{},{total:parseInt(t.total),hasMore:i,data:0===u.start?t.datos:e.data})}))),e.next=8;break;case 7:p((function(e){return Object(c.a)(Object(c.a)({},e),{},{hasMore:!1})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){u.hasMore&&w()}),[h,O]),s.a.createElement(Q,{data:u.data,config:a,FilterComponent:t,heightFilter:n})}},876:function(e,a,t){e.exports=t.p+"static/media/door.29dd3710.mp3"},877:function(e,a,t){e.exports=t.p+"static/media/notify_2.bf74a725.mp3"},878:function(e,a,t){e.exports=t.p+"static/media/notify.b019027d.mp3"},884:function(e,a,t){"use strict";t.d(a,"a",(function(){return G})),t.d(a,"b",(function(){return q}));var n=t(5),r=t(0),i=t.n(r),c=t(704),o=t(153),l=t(649),s=t(58),m=t(309),d=t(8),u=t(693),p=t(2),f=t(875),b=function(e){var a=e.years,t=e.months,n=e.days,r=e.hours,i=e.minutes,c=e.seconds,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l={nodiff:"",year:"a\xf1o",years:"a\xf1os",month:"mes",months:"meses",day:"dia",days:"dias",hour:"hora",hours:"horas",minute:"minuto",minutes:"minutos",second:"segundo",seconds:"segundos",delimiter:" "};function s(e,a){return e+" "+l[a+(1===e?"":"s")]}function m(e,a,t,n,r,i){var c=[];return e&&c.push(s(e,"year")),a&&c.push(s(a,"month")),t&&c.push(s(t,"day")),n&&c.push(s(n,"hour")),r&&c.push(s(r,"minute")),i&&!o&&c.push(s(i,"second")),c.join(l.delimiter)}return m(a,t,n,r,i,c)},g=(t(876),t(877)),h=t.n(g),E=t(878),v=t.n(E),y=Object(m.a)((function(e){return{timer:{padding:0,textAlign:"center",fontSize:"1rem"},small:{fontSize:"0.8rem"},large:{fontSize:"3.5rem"}}})),O=function(e){var a=e%3600;return{hours:Math.trunc(e/3600),minutes:Math.trunc(a/60),seconds:a%60}};function x(e){return e<10&&(e="0"+e),e}var j=function(e){var a,t=e.timer,n=e.time,r=e.size,c=e.type,o=void 0===c?"text":c,l=e.alarmInterval,s=void 0===l?null:l,m=y(),g=t?-1:1,E=i.a.useState(3600*(a=n).hours+60*a.minutes+a.seconds),j=Object(d.a)(E,2),C=j[0],w=j[1],S=i.a.useState(!0),_=Object(d.a)(S,2),k=_[0],N=_[1],F=Object(f.a)(h.a,{volume:1}),A=Object(d.a)(F,1)[0],D=Object(f.a)(v.a,{volume:1}),T=Object(d.a)(D,1)[0];return i.a.useEffect((function(){var e;return k?e=setInterval((function(){return w(C+g)}),1e3):k||0===C||clearInterval(e),0===C&&(A(),N(!1)),s&&C%s===0&&T(),function(){return clearInterval(e)}}),[C,k]),i.a.createElement(u.a,{className:Object(p.a)(m.timer,m[r])},"digital"===o&&i.a.createElement("label",null,function(e){var a=e.hours,t=e.minutes,n=e.seconds;return x(a)+":"+x(t)+":"+x(n)}(O(C))),"text"===o&&i.a.createElement("label",null,b(O(C))))},C=t(779),w=t(34),S=t(19),_=t(135),k=t(241),N=t.n(k);t(879),t(880);N.a.locale("es");var F=Object(m.a)((function(e){return{messageContent:{textAlign:"center",marginTop:"0.8rem",marginBottom:"0.8rem"},message:{fontSize:"1rem"},label:{fontSize:"0.6rem"}}})),A=function(e){var a=e.options,t=void 0===a?[]:a,n=e.data,r=void 0===n?{}:n,s=F(),m=Object(w.g)(),d=Object(S.b)();return i.a.createElement(c.a,{variant:"contained",color:"primary",fullWidth:!0},t.map((function(e){return i.a.createElement(o.a,{key:e.label,onClick:e.nextState?function(){return a=e.nextState,void d(Object(_.g)(r.id_cita,a,r.latitud_ubicacion,r.longitud_ubicacion));var a}:function(){return a=e.url,m.push(a+r.id_cita);var a},color:e.color||"primary",startIcon:i.a.createElement(l.a,null,e.icon),className:s.label},e.label)})))},D="si",T="cancelada",I="completada",z="confirmada",R="finalizada",M="iniciada",P="panico",B="programada",L="sin cita",U="solicitada",W={goToCita:{label:"IR A LA CITA",icon:"date_range",url:"/citas/detail/"},confirmCita:{label:"CONFIRMAR CITA",icon:"thumb_up_alt",color:"secondary",nextState:B},cancelCita:{label:"CANCELAR CITA",icon:"thumb_down_alt",nextState:"rechazada"},startCita:{label:"INICIAR CITA",icon:"date_range",nextState:M},panic:{label:"Activar Panico",icon:"campaign",nextState:P},endCita:{label:"Finalizar Cita",icon:"cancel",color:"secondary",nextState:R},error:{label:"FUE UN ERROR",color:"secondary",icon:"sentiment_very_satisfied",nextState:M},endPanic:{label:"Finalizar Cita",icon:"sentiment_dissatisfied",nextState:I},completeCita:{label:"Completar Cita",color:"secondary",icon:"check",nextState:I}},V=function(e){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.disponible,t=e.credito,n=e.credito_minimo,r=a===D,i=!(parseFloat(t)<parseFloat(n));return{disponible:a,stateCita:e.estado_cita,credito:t,credito_minimo:n,alias:e.nombre_dama,stateDama:r,creditValid:i}}(e),t=a.stateCita,r=a.alias,i=a.stateDama,c=a.creditValid,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.alias,t=e.fecha_cita,r=e.hora_cita,i=e.cliente_cita,c=e.fecha_hora_estado_cita,o="<b>".concat(Object(C.a)(a),"</b>"),l="<b>".concat(Object(C.a)(i),"</b>"),s=N()(t+" "+r,"YYYY-MM-DD HH:mm:ss"),m=s.preciseDiff(N()(),!0),d=N()().preciseDiff(N()(c),!0),u=(b(m,!0),{});return u.solicitadaCredit={actions:[W.cancelCita,W.confirmCita,W.goToCita],message:"".concat(o,", tiene solicitada una cita de ").concat(l,", sin confirmar para el \n      <b>").concat(s.format("dddd, LL [a las] LT"),"</b> \xbfQu\xe9 desea hacer?.")},u.solicitadaNoCredit={actions:null,message:"".concat(o,", tiene solicitada una cita de ").concat(l,", sin confirmar y no tiene credito suficiente para confirmarla. \n      Contactese con el administrador para recargar mas credito.")},u.programada={actions:[Object(n.a)(Object(n.a)({},W.cancelCita),{},{nextState:T}),Object(n.a)(Object(n.a)({},W.confirmCita),{},{nextState:z})],message:"".concat(o,", usted tiene una cita programada con ").concat(l,", dentro de: "),timer:{timer:!0,time:m}},u.confirmada={actions:[W.startCita],message:"".concat(o,", su cita con ").concat(l,", fue confirmada hace: "),timer:{timer:!1,time:d}},u.iniciada={actions:[W.panic,W.endCita],message:"".concat(o,", su cita con ").concat(l,", fue iniciada hace:"),timer:{timer:!1,time:d,size:"large",type:"digital",alarmInterval:120}},u.panico={actions:[W.error,W.endPanic],message:"".concat(o,", hemos recibido su solicitud de ayuda!!!")},u.finalizada={actions:[W.panic,W.completeCita],message:"".concat(o,", complete la cita con ").concat(l,", una vez que se encuentre segura.")},u.sinCitaCreditDama={actions:null,message:"".concat(o,", se encuentra disponible para recibir citas. \n      Por favor permanezca atenta a nuevas solicitudes y verifique que su ubicaci\xf3n es la correcta.")},u.sinCitaCreditNoDama={actions:null,message:"".concat(o,", no te encuentras disponible en este momento. \n      Ponte disponible para que mas clientes te puedan contactar.")},u.sinCitaNoCreditNoDama={actions:null,message:"".concat(o,", no tiene credito suficiente para estar disponible en la aplicaci\xf3n. \n      Contactese con el administrador para recargar mas credito")},u}(Object(n.a)(Object(n.a)({},e),{},{alias:r}));switch(t){case U:return c?o.solicitadaCredit:o.solicitadaNoCredit;case B:return o.programada;case z:return o.confirmada;case M:return o.iniciada;case P:return o.panico;case R:return o.finalizada;case L:return i&&c?o.sinCitaCreditDama:c&&!i?o.sinCitaCreditNoDama:o.sinCitaNoCreditNoDama;default:return{actions:null,message:"Sin datos, para una pr\xf3xima cita."}}},G=function(e){var a=e.data,t=void 0===a?{}:a,r=F(),c=V(Object(n.a)({},t)),o=c.actions,l=void 0===o?null:o,m=c.message,d=c.timer,u=void 0===d?null:d;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:r.messageContent},i.a.createElement(s.a,{variant:"caption",color:"textSecondary",className:r.message},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:m}}))),u&&i.a.createElement(j,{timer:u.timer,time:u.time,size:u.size,type:u.type,alarmInterval:u.alarmInterval}),l&&i.a.createElement(A,{options:l,data:t}))},q=function(e){var a=e.data,t=void 0===a?{}:a,r=V(Object(n.a)({},t)).actions,c=void 0===r?null:r;return i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(A,{options:c,data:t}))}}}]);
//# sourceMappingURL=9.08f5ed59.chunk.js.map